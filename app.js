!function(e){function t(t){for(var a,r,c=t[0],n=t[1],h=t[2],l=0,g=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&g.push(o[r][0]),o[r]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);for(d&&d(t);g.length;)g.shift()();return i.push.apply(i,h||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,c=1;c<s.length;c++){var n=s[c];0!==o[n]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},o={1:0},i=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(){return Promise.resolve()},r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],n=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var d=n;i.push([185,0]),s()}({185:function(e,t,s){"use strict";s.r(t);var a=s(5),o=s.n(a),i=s(16);const r=Object(i.b)({name:"speaker",initialState:{isPlaying:!1},reducers:{resetState:e=>{e.isPlaying=!1},setIsPlaying:(e,t)=>{e.isPlaying=t.payload}}}),{setIsPlaying:c,resetState:n}=r.actions,h=r.reducer,d={characterId:"",lunchboxId:""},l=Object(i.b)({name:"characters",initialState:d,reducers:{resetState:e=>{e.characterId=d.characterId,e.lunchboxId=d.lunchboxId},setCharacter:(e,t)=>{e.characterId=t.payload},setLunchBox:(e,t)=>{e.lunchboxId=t.payload}}}),{setCharacter:g,setLunchBox:u,resetState:p}=l.actions,m=l.reducer,b={items:[{group:"group1",item:{}},{group:"group2",item:{}},{group:"group3",item:{}},{group:"group4",item:{}},{group:"group5",item:{}},{group:"group6",item:{}}]},f=Object(i.b)({name:"items",initialState:b,reducers:{resetItems:e=>{e.items=b.items},addItem:(e,t)=>{const s=t.payload.groupId,a=t.payload.item,o=e.items.findIndex((e=>e.group===s));e.items[o].item=a},removeItem:(e,t)=>{const s=t.payload,a=e.items.findIndex((e=>s===e.group));e.items[a].item={}}}}),{addItem:v,removeItem:x,resetItems:y}=f.actions,w=f.reducer,I={Rules:{default:"This is the tutorial text"},CharacterSelect:{default:"We’re going to build a healthy lunch with our food hero friends - who would you like to help you out?"},LunchBoxSelect:{default:"Choose your lunch box to hold your tasty lunch"},Game:{default:"Your lunchbox will be complete when you’ve included something from all the key food groups"},Completed:{default:"Your lunchbox will be complete when you’ve included something from all the key food groups"}},S={currentScene:"Rules",currentTextId:"default",currentText:I.Rules.default,currentTitle:""};const _=Object(i.b)({name:"narration",initialState:S,reducers:{setScene:(e,t)=>{const s=t.payload;e.currentScene=s,e.currentTextId="default",e.currentText=I[s].default,e.currentTitle=""},setText:(e,t)=>{e.currentTextId=t.payload,e.currentText=I[e.currentScene][t.payload],e.currentTitle=""},setItemText:(e,t)=>{e.currentText=t.payload.text,e.currentTitle=t.payload.title,console.log({TITLE:t.payload.title})}}}),{setScene:C,setText:k,setItemText:B}=_.actions,H=_.reducer,O=Object(i.a)({reducer:{characterStore:m,itemsStore:w,narrationStore:H,speakerStore:h}});let F,T,L,P=!1;const V=()=>{const{isPlaying:e}=O.getState().speakerStore;F.setVisible(e),T.setVisible(!e)},D=()=>{const{isPlaying:e}=O.getState().speakerStore;O.dispatch(c(!e)),V(),(e=>{L&&(e?(console.log("STOP"),L.pause()):P?L.resume():(L.play(),P=!0))})(e)},N="#7ac9d6",j="Ompalumpa",E={fontSize:"32px",fontFamily:"Roboto",fill:N},G={fontSize:"48px",fontFamily:j,fill:N},U={fontSize:"48px",fontFamily:j,fill:N};class R extends o.a.Scene{constructor(e,t){super(e),this.config=t,this.screenCenter={x:this.config.width/2,y:this.config.height/2}}preload(){}create(){this.initScene()}initScene(e="background",t=1){var s,a,o;this.add.image(0,0,e).setOrigin(0,0).setScale(t),s=this,a=this.config.width-140,o=100,T=s.add.image(a,o,"sound-off").setOrigin(0,.5).setInteractive({useHandCursor:!0}),T.on("pointerdown",(()=>D())),F=s.add.image(a,o,"sound-on").setOrigin(0,.5).setInteractive({useHandCursor:!0}),F.on("pointerdown",(()=>D())),V()}}var M=R;var A=class extends M{constructor(e){super("MainMenu",{...e.MainMenu,width:e.width,height:e.height}),this.menu=this.config.menu,this.btnYPos=50+(this.screenCenter.y+this.screenCenter.y/2),this.btnScale=1.3}createPlayButton(){this.playBtn=this.add.image(this.screenCenter.x,this.btnYPos,"play-btn").setOrigin(.5,1.05).setInteractive({useHandCursor:!0}),this.playBtn.on("pointerover",(()=>this.playOverHandler())),this.playBtn.on("pointerout",(()=>this.playOutHandler())),this.playBtn.on("pointerdown",(()=>this.playClickedHandler()))}createHelpButton(){this.helpBtn=this.add.image(this.screenCenter.x,this.btnYPos,"help-btn").setOrigin(.5,-.05).setInteractive({useHandCursor:!0}),this.helpBtn.on("pointerover",(()=>this.helpOverHandler())),this.helpBtn.on("pointerout",(()=>this.helpOutHandler())),this.helpBtn.on("pointerdown",(()=>this.helpClickedHandler()))}playClickedHandler(){this.scene.start("CharacterSelect")}playOverHandler(){}playOutHandler(){}helpClickedHandler(){this.scene.launch("Rules")}helpOverHandler(){}helpOutHandler(){}create(){var e;super.initScene("title-screen"),e=this,L||(L=e.sound.add("theme"),L.on("complete",(()=>L.play()))),this.createPlayButton(),this.createHelpButton(),this.text=this.add.text(0,0,"currentText",E).setWordWrapWidth(800),this.text.setVisible(!1)}};let W;class Y extends o.a.GameObjects.Container{constructor(e,t,s,a,o,i=!0,r="next-btn"){super(e,t,s),this.context=e,this.scene=e.scene,this.nextFn=a,this.btnId=r,this.prevScene=o,this.isNextVisible=i,e.add.existing(this),W&&W(),this.init(),this.createNavBar(),this.setNavVisible(!1)}createNavBar(){this.createBg(),this.createSpeechBubble(),this.createText(),this.createTitle(),this.createBackButton(),this.createNextButton()}init(){W=O.subscribe((()=>{this.createNarrator(),this.updateText(),this.updateTitle()}))}setNavVisible(e){this.speech.setVisible(e),this.text.setVisible(e)}createBg(){this.navBG=this.context.add.image(0,0,"navbar-bg").setOrigin(0,0),this.navBG.setY(this.y-this.navBG.height)}createNarrator(){const e=O.getState().characterStore,{characterId:t}=e;t&&(this.setNavVisible(!0),this.narrator&&this.narrator.destroy(),this.narrator=this.context.add.image(20,0,`${t}-head`).setOrigin(0,.5),this.narrator.setY(this.y-this.navBG.height))}createSpeechBubble(){this.speech=this.context.add.image(250,this.y,"narrator-bubble").setOrigin(0,1.15)}createText(){const{currentText:e}=O.getState().narrationStore;console.log({NARRATION_FONT_OPTIONS:E}),this.text=this.context.add.text(350,this.y-180,e,E).setWordWrapWidth(800),this.text.setOrigin(0,.5),this.text.setPosition(400,this.y-135)}createTitle(){const{currentTitle:e}=O.getState().narrationStore;this.title=this.context.add.text(350,this.y-180,e,G),this.title.setOrigin(0,.5),this.title.setPosition(400,this.y-215)}updateText(){const{currentText:e}=O.getState().narrationStore;console.log({currentText:e}),this.text.setText(e)}updateTitle(){const{currentTitle:e}=O.getState().narrationStore;console.log({currentTitle:e}),this.title.setText(e),""!==e&&this.text.setPosition(400,this.y-125)}createBackButton(){const e=this.y-this.navBG.height/2;this.backBtn=this.context.add.image(this.x-295,e+5,"back-btn").setOrigin(1.2,.5).setVisible(!0).setInteractive({useHandCursor:!0}),this.backBtn.on("pointerdown",(()=>this.prevSceneHandler()))}createNextButton(){const e=this.y-this.navBG.height/2;this.nextBtn=this.context.add.image(this.x+50,e+5,this.btnId).setOrigin(1.2,.5).setVisible(this.isNextVisible).setInteractive({useHandCursor:!0}),this.nextBtn.on("pointerdown",(()=>this.nextSceneHandler()))}setNextVisible(e){this.nextBtn.setVisible(e)}nextSceneHandler(){this.nextFn()}prevSceneHandler(){this.scene.stop(),this.scene.start(this.prevScene)}}var $=class extends M{constructor(e){super("Rules",{...e.Rules,width:e.width,height:e.height})}create(){this.initScene(),this.createNavBar(),O.dispatch(C("Rules"))}initScene(){super.initScene(),this.add.image(0,0,"rules-bg").setOrigin(0,0)}createNavBar(){this.navbar=new Y(this,this.config.width,this.config.height,(()=>{this.scene.start("LunchBoxSelect")}),"MainMenu",!1)}over(){}out(){}click(){this.scene.stop("Rules"),this.scene.launch("MainMenu")}},q=s(38);class z extends o.a.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.context=e,this.scene=e.scene,e.add.existing(this),this.createCharacters(),this.checkCharacterSelected()}createCharacters(){const e=50,t=-200,s=this.createCharacter("character1",e,t),a=s.width,o=this.createCharacter("character2",e+2*a,t),i=this.createCharacter("character3",e+4*a,-220),r=this.createCharacter("character4",e+6*a,t);this.character1Highlight=this.createCharacterHighlight("character1",e,t).setVisible(!1),this.character2Highlight=this.createCharacterHighlight("character2",e+2*a,t).setVisible(!1),this.character3Highlight=this.createCharacterHighlight("character3",e+4*a,-220).setVisible(!1),this.character4Highlight=this.createCharacterHighlight("character4",e+6*a,t).setVisible(!1),this.add(this.character1Highlight),this.add(this.character2Highlight),this.add(this.character3Highlight),this.add(this.character4Highlight),this.add(s),this.add(o),this.add(i),this.add(r)}createCharacterHighlight(e,t,s){return this.context.add.image(t,s,`${e}Selected`).setOrigin(.5,.5)}createCharacter(e,t,s){const a=this.context.add.image(t,s,e).setOrigin(.5,.5).setInteractive({useHandCursor:!0});return a.on("pointerover",(()=>this.characterOver(e))),a.on("pointerout",(()=>this.characterOut(e))),a.on("pointerdown",(()=>this.characterSelected(e))),a}checkCharacterSelected(){const e=O.getState().characterStore,{characterId:t}=e;t&&this[`${t}Highlight`].setVisible(!0)}deselectCharcters(){this.character1Highlight.setVisible(!1),this.character2Highlight.setVisible(!1),this.character3Highlight.setVisible(!1),this.character4Highlight.setVisible(!1)}characterOver(e){this[`${e}Highlight`].setVisible(!0)}characterOut(e){this.deselectCharcters(),this.checkCharacterSelected()}characterSelected(e){this.deselectCharcters(),this.characterOver(e),O.dispatch(g(e))}}var J=class extends M{constructor(e){super("CharacterSelect",{...e.CharacterSelect,width:e.width,height:e.height})}create(){super.initScene("background"),this.createTitle(),this.createCharactersContainer(),this.createNavBar(),this.initCharacterListener(),this.checkCharacterSelected(),O.dispatch(C("CharacterSelect"))}createTitle(){this.add.image(this.screenCenter.x,30,"character-select-ttitle").setOrigin(.5,-.2)}createCharactersContainer(){new z(this,this.screenCenter.x/4,this.screenCenter.y+this.screenCenter.y/2-50)}initCharacterListener(){O.subscribe((()=>{this.checkCharacterSelected()}))}checkCharacterSelected(){const e=O.getState().characterStore,{characterId:t}=e;t&&this.navbar.setNextVisible(!0)}createNavBar(){this.navbar=new Y(this,this.config.width,this.config.height,(()=>{this.scene.start("LunchBoxSelect")}),"MainMenu",!1)}};function K(e,t,s){return e.map((e=>function(e,t,s){const{coords:a,id:o,text:i}=e,[r,c]=a,n=t.add.image(r,c,o).setOrigin(.5,.5).setScale(.5).setInteractive({pixelPerfect:!0,useHandCursor:!0});return n.on("pointerdown",(()=>function(e,t,s){O.dispatch(B({text:s,title:"Insert Title"})),O.dispatch(v({groupId:e,item:{id:t}}))}(s,o,i))),n}(e,t,s)))}class Q extends o.a.GameObjects.Container{constructor(e,t,s,a){super(e,t,s),this.x=t,this.y=s,this.context=e,this.scene=e.scene,e.add.existing(this),this.rotating=!1,this.ref=a,this.create()}create(){this.drawBg(),this.drawArrows()}drawBg(){this.arrowBg=this.context.add.image(this.x-130,this.y-50,"spinner-arrow-bg").setOrigin(.5,.5)}drawArrows(){this.arrowUp=this.context.add.image(this.x-130,this.y-50,"spinner-arrow").setOrigin(.5,1.15).setFlipY(!0).setInteractive({useHandCursor:!0}),this.arrowUp.on("pointerover",(()=>this.arrowOver())),this.arrowUp.on("pointerout",(()=>this.arrowOut())),this.arrowUp.on("pointerdown",(()=>this.arrowClick(-1))),this.arrowDown=this.context.add.image(this.x-130,this.y-50,"spinner-arrow").setFlipY(!1).setOrigin(.5,-.15).setInteractive({useHandCursor:!0}),this.arrowDown.on("pointerover",(()=>this.arrowOver())),this.arrowDown.on("pointerout",(()=>this.arrowOut())),this.arrowDown.on("pointerdown",(()=>this.arrowClick(1)))}arrowOver(){}arrowOut(){}arrowClick(e){this.rotating||(this.rotating=!0,this.direction=e,this.context.tweens.add({targets:this.ref,angle:this.ref.angle+60*e,duration:1500,yoyo:!1,repeat:0,onStart:()=>{this.rotating=!0},onComplete:()=>{this.rotating=!1}}))}}class X extends o.a.GameObjects.Container{constructor(e,t,s,a){super(e,t,s),this.screenCenter={x:t,y:s},this.x=-100,this.y=s-50,this.config=a,this.context=e,this.scene=e.scene,this.context.add.existing(this),this.rotating=!1,this.create()}create(){this.drawSpinner(),this.drawItems(),this.drawArrows()}drawItems(){const e=K(this.config.group1,this.context,"group1"),t=this.context.add.container(0,0,e);t.setAngle(0),this.add(t);const s=K(this.config.group2,this.context,"group2"),a=this.context.add.container(0,0,s);a.setAngle(60),this.add(a);const o=K(this.config.group3,this.context,"group3"),i=this.context.add.container(0,0,o);i.setAngle(120),this.add(i);const r=K(this.config.group4,this.context,"group4"),c=this.context.add.container(0,0,r);c.setAngle(180),this.add(c);const n=K(this.config.group5,this.context,"group5"),h=this.context.add.container(0,0,n);h.setAngle(240),this.add(h);const d=K(this.config.group6,this.context,"group6"),l=this.context.add.container(0,0,d);l.setAngle(300),this.add(l)}drawSpinner(){this.spinner=this.context.add.image(0,0,"spinner").setOrigin(.5,.5).setScale(1),this.add(this.spinner)}drawArrows(){new Q(this.context,this.screenCenter.x+10,this.screenCenter.y,this)}}class Z extends o.a.GameObjects.Container{constructor(e,t,s,a){super(e,t,s),this.x=t,this.y=s,this.context=e,this.scene=e.scene,this.isInteractive=a,this.context.add.existing(this),this.setDepth(0),this.selectedItems=[],this.init(),this.updateItems()}init(){O.subscribe((()=>{this.updateItems()}))}updateItems(){const e=O.getState().itemsStore;this.removeAllItems(),this.drawItems(e.items),this.createLunchboxFront()}removeAllItems(){this.selectedItems.forEach((e=>{this.remove(e,!0),e=null})),this.selectedItems=[],this.remove(this.selectedLunchboxFront)}drawItems(e){let t=0,s=0;e.forEach(((e,a)=>{s=a%3*225,t=a>2?-25:-125,e.item.id&&this.drawItem(e,s,t)}))}drawItem(e,t,s){const{item:a,group:o}=e,{id:i}=a,r=this.context.add.image(t,s,i).setOrigin(0,0).setScale(.5).setDepth(0);this.isInteractive&&(r.setInteractive({pixelPerfect:!0,useHandCursor:!0}),r.on("pointerover",(()=>this.itemOver(r))),r.on("pointerout",(()=>this.itemOut(r))),r.on("pointerdown",(()=>this.removeItem(o)))),this.add(r),this.selectedItems.push(r)}itemOver(){}itemOut(){}removeItem(e){O.dispatch(x(e))}createLunchboxFront(){const{lunchboxId:e}=O.getState().characterStore;this.selectedLunchboxFront=this.context.add.image(1080,760,`selected-${e}-front`).setScale(.85).setOrigin(0,.5).setDepth(1),this.selectedLunchboxFront.setDepth(1)}}class ee extends o.a.GameObjects.Container{constructor(e,t,s,a=!0){super(e,t,s),this.x=t,this.y=s,this.interactive=a,this.context=e,this.scene=e.scene,this.context.add.existing(this),this.create()}create(){this.createLunchBox(),this.createItems()}createLunchBox(){const{lunchboxId:e}=O.getState().characterStore;this.selectedLunchbox=this.context.add.image(100,-100,`selected-${e}`).setScale(.85).setOrigin(0,.5),this.add(this.selectedLunchbox)}createItems(){this.selectedItemsContainer=new Z(this.context,this.x+150,this.y,this.interactive)}}var te=class extends M{constructor(e){super("Game",{...e.Game,width:e.width,height:e.height}),this.requiredItems=this.config.requiredItems}create(){super.initScene("kitchen-background"),this.createBottle(),this.createSpinnerContainer(),this.createLunchBox(),this.createNavBar(),this.initItemsListener(),O.dispatch(C("Game"))}createBottle(){this.bottle=this.add.image(this.screenCenter.x+20,this.screenCenter.y,"bottle").setOrigin(.5,.5).setInteractive({useHandCursor:!0}),this.bottle.on("pointerdown",(()=>this.bottleClickedHandler()))}bottleClickedHandler(){O.dispatch(B({text:"Something general about drinks!",title:""}))}createLunchBox(){this.selectedLunchboxContainer=new ee(this,this.screenCenter.x+20,this.screenCenter.y)}createSpinnerContainer(){this.spinnerContainer=new X(this,this.screenCenter.x,this.screenCenter.y,this.config)}createNavBar(){this.navbar=new Y(this,this.config.width,this.config.height,(()=>{const e=O.getState().characterStore,{lunchboxId:t}=e;t&&(this.scene.pause(),this.scene.launch("Completed"))}),"LunchBoxSelect",!1)}initItemsListener(){O.subscribe((()=>{this.checkItemCount()}))}checkItemCount(){const e=O.getState().itemsStore,{items:t}=e,s=t.reduce(((e,t)=>{const{item:s}=t;return s.id?++e:e}),0);this.navbar.setNextVisible(s===this.requiredItems)}};const se=new(s(108).a)("landscape");function ae(){!function(){const e=new Image;e.src="assets/backgrounds/background.png",se.addImage(e,"png",0,0,300,200)}(),function(){const e=new Image;e.src="assets/characters/instructor.png",se.addImage(e,"png",50,50,50,100)}()}var oe=class extends M{constructor(e){super("Completed",{...e.Completed,width:e.width,height:e.height})}create(){super.initScene("kitchen-background"),this.createCharacter(),this.createLunchBox(),this.createNav(),this.createPDFButton(),O.dispatch(C("Completed"))}createCharacter(){const{characterId:e}=O.getState().characterStore;this.selectedCharacter=this.add.image(this.screenCenter.x-125,this.screenCenter.y-75,`selected-${e}`).setOrigin(.4,.5)}createLunchBox(){this.selectedLunchboxContainer=new ee(this,this.screenCenter.x+20,this.screenCenter.y,!1)}createNav(){this.createBg(),this.createTextBG(),this.createText(),this.createBackBtn(),this.createRestartBtn()}createBg(){const e=this.config.height;this.navBG=this.add.image(0,e,"navbar-bg").setOrigin(0,1)}createTextBG(){this.textBubble=this.add.image(35,this.config.height-25,"text-bubble").setOrigin(0,1)}createText(){const e=this.textBubble.y-this.textBubble.height/2,t=this.textBubble.x+this.textBubble.width/2;this.text=this.add.text(t,e,"Well done! You made a healthy lunch!",U).setWordWrapWidth(800),this.text.setOrigin(.5,.5)}createBackBtn(){const e=this.config.height-90,t=this.config.width-400;this.add.image(t,e,"back-btn").setOrigin(1,.5).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{this.scene.stop(),this.scene.resume("Game")}))}createRestartBtn(){const e=this.config.height-90,t=this.config.width-35;this.add.image(t,e,"startover-btn").setOrigin(1,.5).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{O.dispatch(y()),O.dispatch(p()),this.scene.stop(),this.scene.stop("Game"),this.scene.start("MainMenu")}))}createPDFButton(){ae();this.add.image(50,50,"save-btn").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{se.output("save","lunch.pdf")}))}};var ie=class extends M{constructor(e){super("PreloadScene",e)}preload(){super.preload(),this.setupLoader(),this.loadFont(),this.load.audio("theme",["assets/sound/theme.mp3"]),this.load.svg("background","assets/backgrounds/BG.svg",{scale:1}),this.load.svg("kitchen-background","assets/backgrounds/kitchen-bg.svg",{scale:1}),this.load.image("title-screen","assets/title-screen/Title-Screen.png"),this.load.image("rules-bg","assets/rules/Tutorial.jpg"),this.load.svg("play-btn","assets/UI/buttons/play-btn.svg",{scale:1}),this.load.svg("help-btn","assets/UI/buttons/help-btn.svg",{scale:1}),this.load.svg("next-btn","assets/UI/buttons/next-btn.svg",{scale:1}),this.load.svg("back-btn","assets/UI/buttons/back-btn.svg",{scale:1}),this.load.svg("save-btn","assets/UI/buttons/save-btn.svg",{scale:1}),this.load.svg("startover-btn","assets/UI/buttons/startover-btn.svg",{scale:1}),this.load.svg("create-pdf-btn","assets/UI/buttons/print-btn.svg",{scale:1}),this.load.svg("arrow","assets/UI/buttons/backarrow-btn.svg",{scale:1}),this.load.svg("spinner-arrow","assets/UI/buttons/spinner-arrow.svg",{scale:1}),this.load.svg("spinner-arrow-bg","assets/UI/buttons/spinner-arrow-bg.svg",{scale:1}),this.load.svg("character-select-ttitle","assets/UI/speech/character-select-title.svg",{scale:1}),this.load.svg("sound-on","assets/UI/speaker/sound-on.svg",{scale:.8}),this.load.svg("sound-off","assets/UI/speaker/sound-off.svg",{scale:.8}),this.load.svg("narrator-bubble","assets/UI/speech/speech-bubble.svg",{scale:1}),this.load.svg("text-bubble","assets/UI/speech/textbubble.svg",{scale:1}),this.load.svg("navbar-bg","assets/UI/footer/bottom bar.svg",{scale:1}),this.load.image("navbar","assets/UI/nav bar.png"),this.load.image("speech","assets/UI/speech bubble.png"),this.load.svg("character1","assets/characters/hero-1-select.svg",{scale:1}),this.load.svg("character2","assets/characters/hero-2-select.svg",{scale:1}),this.load.svg("character3","assets/characters/hero-3-select.svg",{scale:1}),this.load.svg("character4","assets/characters/hero-4-select.svg",{scale:1}),this.load.svg("character1Selected","assets/characters/hero-1-selected.svg",{scale:1}),this.load.svg("character2Selected","assets/characters/hero-2-selected.svg",{scale:1}),this.load.svg("character3Selected","assets/characters/hero-3-selected.svg",{scale:1}),this.load.svg("character4Selected","assets/characters/hero-4-selected.svg",{scale:1}),this.load.svg("selected-character1","assets/characters/hero-1-success.svg",{scale:1}),this.load.svg("selected-character2","assets/characters/hero-2-success.svg",{scale:1}),this.load.svg("selected-character3","assets/characters/hero-3-success.svg",{scale:1}),this.load.svg("selected-character4","assets/characters/hero-4-success.svg",{scale:1}),this.load.svg("character1-head","assets/characters/hero-head-1.svg",{scale:1}),this.load.svg("character2-head","assets/characters/hero-head-2.svg",{scale:1}),this.load.svg("character3-head","assets/characters/hero-head-3.svg",{scale:1}),this.load.svg("character4-head","assets/characters/hero-head-4.svg",{scale:1}),this.load.image("narrator","assets/characters/instructor.png"),this.load.svg("lunchbox1","assets/lunchboxes/box1-select.svg",{scale:1}),this.load.svg("lunchbox2","assets/lunchboxes/box2-select.svg",{scale:1}),this.load.svg("lunchbox3","assets/lunchboxes/box3-select.svg",{scale:1}),this.load.svg("lunchbox4","assets/lunchboxes/box4-select.svg",{scale:1}),this.load.svg("lunchbox-selected","assets/lunchboxes/box-select-outline.svg",{scale:1}),this.load.svg("selected-lunchbox1","assets/lunchboxes/box1-success.svg",{scale:1}),this.load.svg("selected-lunchbox2","assets/lunchboxes/box2-success.svg",{scale:1}),this.load.svg("selected-lunchbox3","assets/lunchboxes/box3-success.svg",{scale:1}),this.load.svg("selected-lunchbox4","assets/lunchboxes/box4-success.svg",{scale:1}),this.load.svg("selected-lunchbox1-front","assets/lunchboxes/box1-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox2-front","assets/lunchboxes/box2-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox3-front","assets/lunchboxes/box3-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox4-front","assets/lunchboxes/box4-success-front.svg",{scale:1}),this.load.svg("spinner","assets/game/tray.svg",{scale:1}),this.load.svg("bottle","assets/game/bottle.svg",{scale:1}),this.load.svg("bagel","assets/foodItems/C_bagel.svg",{scale:1}),this.load.svg("bammy","assets/foodItems/C_bammy.svg",{scale:1}),this.load.svg("bread","assets/foodItems/C_bread.svg",{scale:1}),this.load.svg("flatbread","assets/foodItems/C_flatbread.svg",{scale:1}),this.load.svg("noodles","assets/foodItems/C_noodles.svg",{scale:1}),this.load.svg("pasta","assets/foodItems/C_pasta.svg",{scale:1}),this.load.svg("potatoes","assets/foodItems/C_potatoes.svg",{scale:1}),this.load.svg("rice","assets/foodItems/C_rice.svg",{scale:1}),this.load.svg("roti","assets/foodItems/C_roti.svg",{scale:1}),this.load.svg("wrap","assets/foodItems/C_wrap.svg",{scale:1}),this.load.svg("D_cheese","assets/foodItems/D_cheese.svg",{scale:1}),this.load.svg("D_creamcheese","assets/foodItems/D_creamcheese.svg",{scale:1}),this.load.svg("D_custard","assets/foodItems/D_custard.svg",{scale:1}),this.load.svg("D_fromagefrais","assets/foodItems/D_fromagefrais.svg",{scale:1}),this.load.svg("D_lassi","assets/foodItems/D_lassi.svg",{scale:1}),this.load.svg("D_maltdrink","assets/foodItems/D_maltdrink.svg",{scale:1}),this.load.svg("D_milk","assets/foodItems/D_milk.svg",{scale:1}),this.load.svg("D_oatmilk","assets/foodItems/D_oatmilk.svg",{scale:1}),this.load.svg("D_paneer","assets/foodItems/D_paneer.svg",{scale:1}),this.load.svg("D_yoghurt","assets/foodItems/D_yoghurt.svg",{scale:1}),this.load.svg("FS_biscuits","assets/foodItems/FS_biscuits.svg",{scale:1}),this.load.svg("FS_cake","assets/foodItems/FS_cake.svg",{scale:1}),this.load.svg("FS_chocolate","assets/foodItems/FS_chocolate.svg",{scale:1}),this.load.svg("FS_crisps","assets/foodItems/FS_crisps.svg",{scale:1}),this.load.svg("FS_croissant","assets/foodItems/FS_croissant.svg",{scale:1}),this.load.svg("FS_gummy","assets/foodItems/FS_gummy.svg",{scale:1}),this.load.svg("FS_pepperoni","assets/foodItems/FS_pepperoni.svg",{scale:1}),this.load.svg("FS_plantain","assets/foodItems/FS_plantain.svg",{scale:1}),this.load.svg("FS_samosa","assets/foodItems/FS_samosa.svg",{scale:1}),this.load.svg("FS_scotchegg","assets/foodItems/FS_scotchegg.svg",{scale:1}),this.load.svg("FV_apple","assets/foodItems/FV_apple.svg",{scale:1}),this.load.svg("FV_banana","assets/foodItems/FV_banana.svg",{scale:1}),this.load.svg("FV_carrot","assets/foodItems/FV_carrot.svg",{scale:1}),this.load.svg("FV_celery","assets/foodItems/FV_celery.svg",{scale:1}),this.load.svg("FV_cucumber","assets/foodItems/FV_cucumber.svg",{scale:1}),this.load.svg("FV_guava","assets/foodItems/FV_guava.svg",{scale:1}),this.load.svg("FV_kiwi","assets/foodItems/FV_kiwi.svg",{scale:1}),this.load.svg("FV_orange","assets/foodItems/FV_orange.svg",{scale:1}),this.load.svg("FV_pepper","assets/foodItems/FV_pepper.svg",{scale:1}),this.load.svg("FV_tomato","assets/foodItems/FV_tomato.svg",{scale:1}),this.load.svg("HE_fruitbread","assets/foodItems/HE_fruitbread.svg",{scale:1}),this.load.svg("HE_jelly","assets/foodItems/HE_jelly.svg",{scale:1}),this.load.svg("HE_maltloaf","assets/foodItems/HE_maltloaf.svg",{scale:1}),this.load.svg("HE_oatcake","assets/foodItems/HE_oatcake.svg",{scale:1}),this.load.svg("HE_pancake","assets/foodItems/HE_pancake.svg",{scale:1}),this.load.svg("HE_popcorn","assets/foodItems/HE_popcorn.svg",{scale:1}),this.load.svg("HE_ricecake","assets/foodItems/HE_ricecake.svg",{scale:1}),this.load.svg("P_beans","assets/foodItems/P_beans.svg",{scale:1}),this.load.svg("P_chicken","assets/foodItems/P_chicken.svg",{scale:1}),this.load.svg("P_chickpea","assets/foodItems/P_chickpea.svg",{scale:1}),this.load.svg("P_egg","assets/foodItems/P_egg.svg",{scale:1}),this.load.svg("P_ham","assets/foodItems/P_ham.svg",{scale:1}),this.load.svg("P_hummus","assets/foodItems/P_hummus.svg",{scale:1}),this.load.svg("P_lentil","assets/foodItems/P_lentil.svg",{scale:1}),this.load.svg("P_quorn","assets/foodItems/P_quorn.svg",{scale:1}),this.load.svg("P_tuna","assets/foodItems/P_tuna.svg",{scale:1})}loadFont(){const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet;t.insertRule('@font-face { font-family: "Ompalumpa"; src: url("assets/font/Ompalumpa/Ompalumpa.otf") format("opentype"); }\n',0),t.insertRule('@font-face { font-family: "Roboto"; src: url("assets/font/Roboto/Roboto-Medium.ttf") format("truetype"); }\n',0),this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js")}setupLoader(){let e=this.add.graphics(),t=this.add.graphics(),s=this.cameras.main.width,a=this.cameras.main.height;t.fillStyle(2236962,.8),t.fillRect(s/2-170,a/2-35,320,50);let o=this.make.text({x:s/2,y:a/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});o.setOrigin(.5,.5);let i=this.make.text({x:s/2,y:a/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});i.setOrigin(.5,.5),this.load.on("progress",(function(t){e.clear(),e.fillStyle(16777215,1),e.fillRect(s/2-160,a/2-25,300*t,30),i.setText(parseInt(100*t)+"%")})),this.load.on("fileprogress",(function(e){})),this.load.on("complete",(function(){e.destroy(),t.destroy(),o.destroy(),i.destroy()}))}create(){super.create(),this.scene.start("MainMenu")}};class re extends o.a.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.context=e,this.scene=e.scene,e.add.existing(this),this.createLunchboxHighlights(),this.createLunchBoxes(),this.checkLunchboxSelected()}createLunchBoxes(){const e=this.createLunchBox("lunchbox1",[-375,-325]),t=this.createLunchBox("lunchbox2",[-375,75]),s=this.createLunchBox("lunchbox3",[375,-325]),a=this.createLunchBox("lunchbox4",[375,75]);this.add(e),this.add(t),this.add(s),this.add(a)}createLunchboxHighlights(){this.lunchbox1Highlight=this.createLunchBoxHighlight("lunchbox1",[-375,-325]),this.lunchbox2Highlight=this.createLunchBoxHighlight("lunchbox2",[-375,75]),this.lunchbox3Highlight=this.createLunchBoxHighlight("lunchbox3",[375,-325]),this.lunchbox4Highlight=this.createLunchBoxHighlight("lunchbox4",[375,75]),this.add(this.lunchbox1Highlight),this.add(this.lunchbox2Highlight),this.add(this.lunchbox3Highlight),this.add(this.lunchbox4Highlight)}createLunchBox(e,t){const s=this.context.add.image(0,0,e).setInteractive({useHandCursor:!0});return s.setPosition(...t),s.setOrigin(.5,.5),s.on("pointerover",(()=>this.lunchboxOver(e))),s.on("pointerout",(()=>this.lunchboxOut(e))),s.on("pointerdown",(()=>this.lunchboxSelected(e))),s}createLunchBoxHighlight(e,t){const s=this.context.add.image(0,0,"lunchbox-selected").setVisible(!1);return s.setPosition(...t),s.setOrigin(.5,.5),s}checkLunchboxSelected(){const e=O.getState().characterStore,{lunchboxId:t}=e;t&&this[`${t}Highlight`].setVisible(!0)}deselectLunchBoxes(){this.lunchbox1Highlight.setVisible(!1),this.lunchbox2Highlight.setVisible(!1),this.lunchbox3Highlight.setVisible(!1),this.lunchbox4Highlight.setVisible(!1)}lunchboxSelected(e){this.deselectLunchBoxes(),this.lunchboxOver(e),O.dispatch(u(e))}lunchboxOver(e){this[`${e}Highlight`].setVisible(!0)}lunchboxOut(e){this.deselectLunchBoxes(),this.checkLunchboxSelected()}}var ce=class extends M{constructor(e){super("LunchBoxSelect",{...e.LunchboxSelect,width:e.width,height:e.height})}create(){super.initScene(),this.createLunchBoxesContainer(),this.createNavBar(),O.dispatch(C("LunchBoxSelect")),this.initLunchboxListener(),this.checkLunchboxSelected()}createLunchBoxesContainer(){const e=this.screenCenter.x,t=this.screenCenter.y;new re(this,e,t)}initLunchboxListener(){O.subscribe((()=>{this.checkLunchboxSelected()}))}checkLunchboxSelected(){const e=O.getState().characterStore,{lunchboxId:t}=e;t&&this.navbar.setNextVisible(!0)}createNavBar(){this.navbar=new Y(this,this.config.width,this.config.height,(()=>{this.scene.start("Game")}),"CharacterSelect",!1)}};const ne=[ie,A,J,ce,te,oe,$],he=e=>new e(q),{width:de,height:le,backgroundColor:ge}=q,ue={width:q.width,height:q.height,type:o.a.AUTO,scale:{mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!0}},backgroundColor:ge,scene:ne.map(he),fps:{target:12}};new o.a.Game(ue)},38:function(e){e.exports=JSON.parse('{"width":1921,"height":1145,"backgroundColor":"#daf1f2","Rules":{},"Game":{"requiredItems":6,"group1":[{"id":"bagel","name":"food","score":1,"coords":[165,0],"text":"Bagels have been to space! An astronaut took 18 bagels with him to the international space station in 2008."},{"id":"bammy","name":"food","score":1,"coords":[750,100],"text":"Missing Text!"},{"id":"bread","name":"food","score":1,"coords":[700,-275],"text":"Wholemeal bread is a healthier choice than white bread."},{"id":"flatbread","name":"food","score":1,"coords":[750,275],"text":"There are loads of types of flatbreads, including the matzah, bammy and naan."},{"id":"noodles","name":"food","score":1,"coords":[350,100],"text":"Noodles have been popular in Asian cooking for thousands of years."},{"id":"pasta","name":"food","score":1,"coords":[350,-100],"text":"Pasta comes in all shapes and sizes, have a look next time you’re at the shops."},{"id":"potatoes","name":"food","score":1,"coords":[550,200],"text":"Potatoes grow underground and are a great source of carbohydrate."},{"id":"rice","name":"food","score":1,"coords":[525,-200],"text":"Rice grows in fields across the world."},{"id":"roti","name":"food","score":1,"coords":[535,0],"text":"Rotis are packed with vitamin B, helping to keep your body healthy."},{"id":"wrap","name":"food","score":1,"coords":[750,-100],"text":"Wraps can be filled with all sorts of tasty fillings. Try adding your choice of veg and protein to make it your own."}],"group2":[{"id":"D_cheese","name":"food","score":1,"coords":[165,0],"text":"Cheese contains many important nutrients, but it can be high in salt and saturated fat, so don’t eat too much."},{"id":"D_creamcheese","name":"food","score":1,"coords":[750,100],"text":"Cream cheese is soft and can be spread onto sandwiches and wraps, it can even be used as a dip"},{"id":"D_custard","name":"food","score":1,"coords":[700,-275],"text":"Custard can be used as a sauce or filling for loads of different desserts, it should only be eaten sometimes as it contains extra fat and sugar that we don’t need"},{"id":"D_fromagefrais","name":"food","score":1,"coords":[750,275],"text":"Fromage frais looks a lot like yogurt, but it’s actually a type of cheese"},{"id":"D_lassi","name":"food","score":1,"coords":[350,100],"text":"Lassi is a popular yogurt drink from India. This one is savoury, but they can also be flavoured with sweet foods like mango"},{"id":"D_maltdrink","name":"food","score":1,"coords":[350,-100],"text":"Missing text"},{"id":"D_milk","name":"food","score":1,"coords":[550,200],"text":"Cow’s milk contains almost every single nutrient needed by humans!"},{"id":"D_oatmilk","name":"food","score":1,"coords":[525,-200],"text":"There are lots of different milks that make great alternatives to cows’ milk, such as oat, pea and almond to name a few."},{"id":"D_paneer","name":"food","score":1,"coords":[535,0],"text":"Paneer cheese originated in India, and it’s now popular in many countries across the globe"},{"id":"D_yoghurt","name":"food","score":1,"coords":[750,-100],"text":"Plain natural yogurt can be full of protein which we all need in our diet, you can try pouring it over a bowl of your favourite fruit for extra flavour."}],"group3":[{"id":"FS_biscuits","name":"food","score":1,"coords":[165,0],"text":"There are hundreds of types of biscuits on the shelves in shops."},{"id":"FS_cake","name":"food","score":1,"coords":[750,100],"text":"Cake can be enjoyed sometimes. For a healthy choice, go for a scotch pancake or teacake."},{"id":"FS_chocolate","name":"food","score":1,"coords":[700,-275],"text":"Chocolate is made from cacao beans, which taste bitter on their own. You need to add lots of fat and sugar to make chocolate."},{"id":"FS_crisps","name":"food","score":1,"coords":[750,275],"text":"Crisps are deep fried potato slices so are high in fat and also high in salt, which makes them foods to only eat occasionally."},{"id":"FS_croissant","name":"food","score":1,"coords":[350,100],"text":"Lots of people think croissants are French, but they were invented in Austria."},{"id":"FS_gummy","name":"food","score":1,"coords":[350,-100],"text":"These chewy sweets are high in sugar, which can damage your teeth."},{"id":"FS_pepperoni","name":"food","score":1,"coords":[550,200],"text":"These are highly processed foods, so don’t eat too many!"},{"id":"FS_plantain","name":"food","score":1,"coords":[525,-200],"text":"These crisps are deep fried plantain slices , which means they are high in fat. Eating too much fat is not good for your body, so these should only be eaten occasionally."},{"id":"FS_samosa","name":"food","score":1,"coords":[535,0],"text":"Samosa’s can come in all sorts of shapes and contain different fillings. Baking them rather than frying can make them healthier."},{"id":"FS_scotchegg","name":"food","score":1,"coords":[750,-100],"text":"This is a boiled egg wrapped in sausage meat and coated in breadcrumbs."}],"group4":[{"id":"FV_apple","name":"food","score":1,"coords":[165,0],"text":"There are 7,000 varieties of apple, that’s a lot of different apples!"},{"id":"FV_banana","name":"food","score":1,"coords":[750,100],"text":"Over 23,000 bananas are eaten at Wimbledon each year. Tennis players eat these as healthy snacks"},{"id":"FV_carrot","name":"food","score":1,"coords":[700,-275],"text":"Carrots won’t help you to see in the dark, but they do contain nutrients that are good for your eyes."},{"id":"FV_celery","name":"food","score":1,"coords":[750,275],"text":"Celery is crunchy and can be eaten raw as a healthy snack."},{"id":"FV_cucumber","name":"food","score":1,"coords":[350,100],"text":"Cucumbers contain secoisolariciresinol (that’s a real word!) which has special protective powers for your body!"},{"id":"FV_guava","name":"food","score":1,"coords":[350,-100],"text":"Guavas are sometimes called ‘super-fruits’ because of their high vitamin content"},{"id":"FV_kiwi","name":"food","score":1,"coords":[550,200],"text":"Kiwi’s might look like hairy eggs, but once they’ve been peeled they are ready to eat and full of healthy vitamin C"},{"id":"FV_orange","name":"food","score":1,"coords":[525,-200],"text":"Hundreds of years ago, sailors used to carry oranges with them when crossing the sea to make sure they got enough vitamin C."},{"id":"FV_pepper","name":"food","score":1,"coords":[535,0],"text":"You might have seen green, yellow and red peppers before, but purple peppers can also be eaten."},{"id":"FV_tomato","name":"food","score":1,"coords":[750,-100],"text":"The heaviest tomato in the world weighed over 5kg (about as heavy as a cat)."}],"group5":[{"id":"HE_fruitbread","name":"food","score":1,"coords":[165,0],"text":"Tea cakes are sweet tasting buns, lots of people like to toast them before eating them."},{"id":"HE_jelly","name":"food","score":1,"coords":[750,100],"text":"Jelly can come in all sorts of colours, what’s your favourite colour?"},{"id":"HE_maltloaf","name":"food","score":1,"coords":[750,275],"text":"This sweet tasting bread comes in lots of different flavours. Which one do you like best?"},{"id":"HE_oatcake","name":"food","score":1,"coords":[350,100],"text":"This is a healthy and convenient snack that you can eat on the go!"},{"id":"HE_pancake","name":"food","score":1,"coords":[550,200],"text":"These pancakes originated in Scotland but are eaten in many different countries."},{"id":"HE_popcorn","name":"food","score":1,"coords":[525,-200],"text":"Popcorn makes a popping sound when it’s being made, hence the name!"},{"id":"HE_ricecake","name":"food","score":1,"coords":[750,-100],"text":"This is a healthy and convenient snack that you can eat on the go!"}],"group6":[{"id":"P_beans","name":"food","score":1,"coords":[165,0],"text":"Tons of baked beans are eaten every hour in the UK, but there are lots of other varieties such as kidney beans and butter beans."},{"id":"P_chicken","name":"food","score":1,"coords":[750,100],"text":"Chickens are living descendants of dinosaurs, and are a popular source of protein."},{"id":"P_chickpea","name":"food","score":1,"coords":[700,-275],"text":"Another name for a chickpea is a garbanzo bean."},{"id":"P_egg","name":"food","score":1,"coords":[750,275],"text":"Humans have eaten animal eggs for millions of years! Here in the UK, the most popular ones are laid by chickens."},{"id":"P_ham","name":"food","score":1,"coords":[350,100],"text":"Did you know that ham comes from pigs?"},{"id":"P_hummus","name":"food","score":1,"coords":[350,-100],"text":"Hummus is made from mashed chickpeas, try using it as a dip or spreading onto wraps."},{"id":"P_lentil","name":"food","score":1,"coords":[550,200],"text":"Lentils are plants. As well as being packed with protein, they contain plenty of fibre."},{"id":"P_quorn","name":"food","score":1,"coords":[525,-200],"text":"These are great ways to get protein without eating meat. What’s your favourite recipe?"},{"id":"P_tuna","name":"food","score":1,"coords":[750,-100],"text":"Tuna are one of the most popular types of fish to eat. In the wild they swim very fast and can weigh as much as a horse!"}]},"CharacterSelect":{},"LunchboxSelect":{},"Completed":{}}')}});