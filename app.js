!function(e){function t(t){for(var a,r,n=t[0],c=t[1],h=t[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);u.length;)u.shift()();return o.push.apply(o,h||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},i={1:0},o=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(){return Promise.resolve()},r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var n=window.webpackJsonp=window.webpackJsonp||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var h=0;h<n.length;h++)t(n[h]);var l=c;o.push([185,0]),s()}({185:function(e,t,s){"use strict";s.r(t);var a=s(5),i=s.n(a),o=s(11);const r=Object(o.b)({name:"speaker",initialState:{isPlaying:!1},reducers:{resetState:e=>{e.isPlaying=!1},setIsPlaying:(e,t)=>{e.isPlaying=t.payload}}}),{setIsPlaying:n,resetState:c}=r.actions,h=r.reducer,l={characterId:"",lunchboxId:""},d=Object(o.b)({name:"characters",initialState:l,reducers:{resetState:e=>{e.characterId=l.characterId,e.lunchboxId=l.lunchboxId},setCharacter:(e,t)=>{e.characterId=t.payload},setLunchBox:(e,t)=>{e.lunchboxId=t.payload}}}),{setCharacter:u,setLunchBox:g,resetState:p}=d.actions,m=d.reducer,f={items:[{group:"group1",item:{}},{group:"group2",item:{}},{group:"group3",item:{}},{group:"group4",item:{}},{group:"group5",item:{}},{group:"group6",item:{}}]},b=Object(o.b)({name:"items",initialState:f,reducers:{resetItems:e=>{e.items=f.items},addItem:(e,t)=>{const s=t.payload.groupId,a=t.payload.item,i=e.items.findIndex((e=>e.group===s));e.items[i].item=a},removeItem:(e,t)=>{const s=t.payload,a=e.items.findIndex((e=>s===e.group));e.items[a].item={}}}}),{addItem:v,removeItem:x,resetItems:y}=b.actions,w=b.reducer,I={Rules:{default:"Get ready to choose your character and create your very own lunch by picking a food item from each of the sections of the Eat Well tray."},CharacterSelect:{default:"We’re going to build a healthy lunch with our food hero friends - who would you like to help you out?",character1:"Hello! My name is Strawbina. I love fruits and vegetables, which are full of the vitamins, minerals and fibre that our bodies need to keep us healthy.",character2:"Hello! I am Eggbert and I like protein rich foods which help our body grow and develop. Protein is also good for repairing and healing if you hurt yourself.",character3:"Heya! I'm Pastoria. I like carbohydrates, they give us vitamins and energy which help us play all day and concentrate well at school.",character4:"Hi! I'm Careem. I enjoy dairy, which contains nutrients that help to give us strong and healthy bones, as well as lots of the vitamins and minerals we need."},LunchBoxSelect:{default:"Choose your lunch box to hold your tasty lunch"},Game:{default:"Your lunchbox will be complete when you’ve included something from all the key food groups"},Completed:{default:"Your lunchbox will be complete when you’ve included something from all the key food groups"}},S={currentScene:"Rules",currentTextId:"default",currentText:I.Rules.default,currentTitle:""};let C="",_="";const k=Object(o.b)({name:"narration",initialState:S,reducers:{setScene:(e,t)=>{const s=t.payload;e.currentScene=s,e.currentTextId="default",e.currentText=I[s].default,e.currentTitle=""},setText:(e,t)=>{e.currentTextId=t.payload,e.currentText=I[e.currentScene][t.payload],e.currentTitle=""},setItemText:(e,t)=>{e.currentText=t.payload.text,e.currentTitle=t.payload.title},setTempText:(e,t)=>{C=e.currentTitle,_=e.currentText,e.currentText=t.payload.text,e.currentTitle=t.payload.title},resetTempText:e=>{e.currentTitle=C,e.currentText=_}}}),{setScene:O,setText:B,setItemText:F,setTempText:H,resetTempText:V}=k.actions,T=k.reducer,P={characterId:"character3",lunchboxId:"lunchbox1",items:[{group:"group1",item:{}},{group:"group2",item:{}},{group:"group3",item:{}},{group:"group4",item:{}},{group:"group5",item:{}},{group:"group6",item:{}}]},L=Object(o.b)({name:"rules",initialState:P,reducers:{resetState:e=>{e.characterId=P.characterId,e.lunchboxId=P.lunchboxId,e.items=P.items},setCharacter:(e,t)=>{e.characterId=t.payload},setLunchBox:(e,t)=>{e.lunchboxId=t.payload},resetItems:e=>{e.items=P.items},addItem:(e,t)=>{const s=t.payload.groupId,a=t.payload.item,i=e.items.findIndex((e=>e.group===s));e.items[i].item=a},removeItem:(e,t)=>{const s=t.payload,a=e.items.findIndex((e=>s===e.group));e.items[a].item={}}}}),{setCharacter:D,setLunchBox:A,resetState:R,addItem:j,removeItem:N,resetItems:G}=L.actions,E=L.reducer,M=Object(o.a)({reducer:{characterStore:m,itemsStore:w,narrationStore:T,speakerStore:h,rulesStore:E}});let U,W,$,Y=!1;const q=()=>{const{isPlaying:e}=M.getState().speakerStore;U.setVisible(e),W.setVisible(!e)},z=()=>{const{isPlaying:e}=M.getState().speakerStore;M.dispatch(n(!e)),q(),(e=>{$&&(e?(console.log("STOP"),$.pause()):Y?$.resume():($.play(),Y=!0))})(e)},J="#7ac9d6",K="Ompalumpa",Q={fontSize:"32px",fontFamily:"Roboto",fill:J},X={fontSize:"48px",fontFamily:K,fill:J},Z={fontSize:"48px",fontFamily:K,fill:J};class ee extends i.a.Scene{constructor(e,t){super(e),this.config=t,this.screenCenter={x:this.config.width/2,y:this.config.height/2}}preload(){}create(){this.initScene()}initScene(e="background",t=1){var s,a,i;this.add.image(0,0,e).setOrigin(0,0).setScale(t),s=this,a=this.config.width-140,i=100,W=s.add.image(a,i,"sound-off").setOrigin(0,.5).setInteractive({useHandCursor:!0}),W.on("pointerdown",(()=>z())),U=s.add.image(a,i,"sound-on").setOrigin(0,.5).setInteractive({useHandCursor:!0}),U.on("pointerdown",(()=>z())),q()}}var te=ee;var se=class extends te{constructor(e){super("MainMenu",{...e.MainMenu,width:e.width,height:e.height}),this.menu=this.config.menu,this.btnYPos=50+(this.screenCenter.y+this.screenCenter.y/2),this.btnScale=1.3}createPlayButton(){this.playBtn=this.add.image(this.screenCenter.x,this.btnYPos,"play-btn").setOrigin(.5,1.05).setInteractive({useHandCursor:!0}),this.playBtn.on("pointerover",(()=>this.playOverHandler())),this.playBtn.on("pointerout",(()=>this.playOutHandler())),this.playBtn.on("pointerdown",(()=>this.playClickedHandler()))}createHelpButton(){this.helpBtn=this.add.image(this.screenCenter.x,this.btnYPos,"help-btn").setOrigin(.5,-.05).setInteractive({useHandCursor:!0}),this.helpBtn.on("pointerover",(()=>this.helpOverHandler())),this.helpBtn.on("pointerout",(()=>this.helpOutHandler())),this.helpBtn.on("pointerdown",(()=>this.helpClickedHandler()))}playClickedHandler(){this.scene.start("CharacterSelect")}playOverHandler(){}playOutHandler(){}helpClickedHandler(){this.scene.stop("MainMenu"),this.scene.launch("Rules")}helpOverHandler(){}helpOutHandler(){}create(){var e;super.initScene("title-screen"),e=this,$||($=e.sound.add("theme"),$.on("complete",(()=>$.play()))),this.createPlayButton(),this.createHelpButton(),this.text=this.add.text(0,0,"currentText",Q).setWordWrapWidth(800),this.text.setVisible(!1)}};let ae;class ie extends i.a.GameObjects.Container{constructor(e,t,s,a,i,o=!0,r="next-btn",n=!1,c){super(e,t,s),this.context=e,this.scene=e.scene,this.nextFn=a,this.backFn=c,this.btnId=r,this.prevScene=i,this.isRules=n,this.isNextVisible=o,e.add.existing(this),ae&&ae(),this.init(),this.createNavBar(),this.setNavVisible(!1)}createNavBar(){this.createBg(),this.createSpeechBubble(),this.createText(),this.createTitle(),this.createBackButton(),this.createNextButton()}init(){ae=M.subscribe((()=>{this.createNarrator(),this.updateText(),this.updateTitle()}))}setNavVisible(e){this.speech.setVisible(e),this.text.setVisible(e)}createBg(){this.navBG=this.context.add.image(0,0,"navbar-bg").setOrigin(0,0),this.navBG.setY(this.y-this.navBG.height)}createNarrator(){const e=M.getState().characterStore,t=e.characterId?M.getState().characterStore:M.getState().rulesStore,{characterId:s}=this.isRules?t:e;s&&(this.setNavVisible(!0),this.narrator&&this.narrator.destroy(),this.narrator=this.context.add.image(20,0,`${s}-head`).setOrigin(0,.5),this.narrator.setY(this.y-this.navBG.height))}createSpeechBubble(){this.speech=this.context.add.image(250,this.y,"narrator-bubble").setOrigin(0,1.15)}createText(){const{currentText:e}=M.getState().narrationStore;console.log({NARRATION_FONT_OPTIONS:Q}),this.text=this.context.add.text(350,this.y-180,e,Q).setWordWrapWidth(800),this.text.setOrigin(0,.5),this.text.setPosition(400,this.y-135)}createTitle(){const{currentTitle:e}=M.getState().narrationStore;this.title=this.context.add.text(350,this.y-180,e,X),this.title.setOrigin(0,.5),this.title.setPosition(400,this.y-215)}updateText(){const{currentText:e}=M.getState().narrationStore;console.log({currentText:e}),this.text.setText(e)}updateTitle(){const{currentTitle:e}=M.getState().narrationStore;console.log({currentTitle:e}),this.title.setText(e),""!==e&&this.text.setPosition(400,this.y-125)}createBackButton(){const e=this.y-this.navBG.height/2;this.backBtn=this.context.add.image(this.x-295,e+5,"back-btn").setOrigin(1.2,.5).setVisible(!0).setInteractive({useHandCursor:!0}),this.backBtn.on("pointerdown",(()=>this.prevSceneHandler()))}createNextButton(){const e=this.y-this.navBG.height/2;this.nextBtn=this.context.add.image(this.x+50,e+5,this.btnId).setOrigin(1.2,.5).setVisible(this.isNextVisible).setInteractive({useHandCursor:!0}),this.nextBtn.on("pointerdown",(()=>this.nextSceneHandler()))}setNextVisible(e){this.nextBtn.setVisible(e)}nextSceneHandler(){this.nextFn()}prevSceneHandler(){this.backFn?this.backFn():(this.scene.stop(),this.scene.start(this.prevScene))}}class oe extends i.a.GameObjects.Container{constructor(e,t,s,a,i=!1){super(e,t,s),this.x=t,this.y=s,this.context=e,this.scene=e.scene,this.isInteractive=a,this.isRules=i,this.context.add.existing(this),this.setDepth(0),this.selectedItems=[],this.itemsStore=this.isRules?"rulesStore":"itemsStore",this.characterStore=this.isRules?"rulesStore":"characterStore",this.init(),this.updateItems()}init(){M.subscribe((()=>{this.updateItems()}))}updateItems(){const e=M.getState()[this.itemsStore];console.log({state:e}),this.removeAllItems(),this.drawItems(e.items),this.createLunchboxFront()}removeAllItems(){this.selectedItems.forEach((e=>{this.remove(e,!0),e=null})),this.selectedItems=[],this.remove(this.selectedLunchboxFront)}drawItems(e){let t=0,s=0;[...e].forEach(((e,a)=>{s=110+a%3*240,t=a>2?110:-15,e.item.id&&this.drawItem(e,s,t)}))}drawItem(e,t,s){const{item:a,group:i}=e,{id:o,rotation:r=0,scale:n=.6,origin:c=[.5,.5]}=a,h=this.context.add.image(t,s,o).setOrigin(...c).setScale(.6).setDepth(0);this.isInteractive&&(h.setInteractive({pixelPerfect:!0,useHandCursor:!0}),h.on("pointerover",(()=>this.itemOver(h))),h.on("pointerout",(()=>this.itemOut(h))),h.on("pointerdown",(()=>this.removeItem(i)))),this.add(h),this.selectedItems.push(h)}itemOver(){}itemOut(){}removeItem(e){M.dispatch(x(e))}createLunchboxFront(){const{lunchboxId:e}=M.getState()[this.characterStore];this.selectedLunchboxFront=this.context.add.image(1080,760,`selected-${e}-front`).setScale(.85).setOrigin(0,.5).setDepth(1),this.selectedLunchboxFront.setDepth(1)}}class re extends i.a.GameObjects.Container{constructor(e,t,s,a=!0,i=!1){super(e,t,s),this.x=t,this.y=s,this.interactive=a,this.isRules=i,this.context=e,this.scene=e.scene,this.context.add.existing(this),this.store=this.isRules?"rulesStore":"characterStore",this.create()}create(){this.createLunchBox(),this.createItems()}createLunchBox(){const{lunchboxId:e}=M.getState()[this.store];this.selectedLunchbox=this.context.add.image(100,-100,`selected-${e}`).setScale(.85).setOrigin(0,.5),this.add(this.selectedLunchbox)}createItems(){this.selectedItemsContainer=new oe(this.context,this.x+150,this.y,this.interactive,this.isRules)}}function ne(e,t,s,a=!0){return e.map((e=>function(e,t,s,a){const{coords:i,id:o,text:r,title:n,origin:c=[.5,.5],scale:h=.4,rotation:l=0}=e,[d,u]=i,g=t.add.image(d,u,o).setOrigin(...c).setScale(h).setAngle(l);a&&g.setInteractive({pixelPerfect:!0,useHandCursor:!0});a&&g.on("pointerdown",(()=>function(e,t){const{title:s,text:a}=t;M.dispatch(F({text:a,title:s})),M.dispatch(v({groupId:e,item:t}))}(s,e)));return g}(e,t,s,a)))}class ce extends i.a.GameObjects.Container{constructor(e,t,s,a,i=!0,o=!1){super(e,t,s),this.x=t,this.y=s,this.context=e,this.scene=e.scene,this.interactive=i,this.isRules=o,e.add.existing(this),this.rotating=!1,this.ref=a,this.create()}create(){this.drawBg(),this.drawArrows()}drawBg(){this.arrowBg=this.context.add.image(this.x-130,this.y-50,"spinner-arrow-bg").setOrigin(.5,.5)}drawArrows(){this.arrowUp=this.context.add.image(this.x-130,this.y-50,"spinner-arrow").setOrigin(.5,1.15).setFlipY(!0),this.arrowDown=this.context.add.image(this.x-130,this.y-50,"spinner-arrow").setFlipY(!1).setOrigin(.5,-.15),this.interactive&&(this.arrowUp.setInteractive({useHandCursor:!0}),this.arrowUp.on("pointerover",(()=>this.arrowOver())),this.arrowUp.on("pointerout",(()=>this.arrowOut())),this.arrowUp.on("pointerdown",(()=>this.arrowClick(-1))),this.arrowDown.setInteractive({useHandCursor:!0}),this.arrowDown.on("pointerover",(()=>this.arrowOver())),this.arrowDown.on("pointerout",(()=>this.arrowOut())),this.arrowDown.on("pointerdown",(()=>this.arrowClick(1))))}arrowOver(){}arrowOut(){}arrowClick(e){this.rotating||(this.rotating=!0,this.direction=e,this.context.tweens.add({targets:this.ref,angle:this.ref.angle+60*e,duration:1e3,ease:"Quart.easeInOut",yoyo:!1,repeat:0,onStart:()=>{this.rotating=!0},onComplete:()=>{this.rotating=!1}}))}animateSpinner(e){this.rotating||(this.rotating=!0,this.direction=e,this.context.tweens.add({targets:this.ref,angle:this.ref.angle+360*e,duration:6e3,yoyo:!1,repeat:-1,onStart:()=>{this.rotating=!0},onComplete:()=>{this.rotating=!1}}))}setIsVisible(){this.setVisible(!1),this.arrowUp.setVisible(!1),this.arrowDown.setVisible(!1),this.arrowBg.setVisible(!1)}}class he extends i.a.GameObjects.Container{constructor(e,t,s,a,i=!0,o=!1){super(e,t,s),this.screenCenter={x:t,y:s},this.x=-100,this.y=s-50,this.startRotation=o?-60:0,this.config=a,this.context=e,this.scene=e.scene,this.interactive=i,this.isRules=o,this.context.add.existing(this),this.rotating=!1,this.create()}create(){this.drawSpinner(),this.drawItems(),this.drawArrows()}getAngle(e){return e+this.startRotation}drawItems(){const e=ne(this.config.group1,this.context,"group1",this.interactive),t=this.context.add.container(0,0,e);t.setAngle(this.getAngle(0)),this.add(t);const s=ne(this.config.group2,this.context,"group2",this.interactive),a=this.context.add.container(0,0,s);a.setAngle(this.getAngle(60)),this.add(a);const i=ne(this.config.group3,this.context,"group3",this.interactive),o=this.context.add.container(0,0,i);o.setAngle(this.getAngle(120)),this.add(o);const r=ne(this.config.group4,this.context,"group4",this.interactive),n=this.context.add.container(0,0,r);n.setAngle(this.getAngle(180)),this.add(n);const c=ne(this.config.group5,this.context,"group5",this.interactive),h=this.context.add.container(0,0,c);h.setAngle(this.getAngle(240)),this.add(h);const l=ne(this.config.group6,this.context,"group6",this.interactive),d=this.context.add.container(0,0,l);d.setAngle(this.getAngle(300)),this.add(d)}drawSpinner(){this.spinner=this.context.add.image(0,0,"spinner").setOrigin(.5,.5).setScale(1).setAngle(this.getAngle(0)),this.add(this.spinner)}drawArrows(){this.spinnerArrows=new ce(this.context,this.screenCenter.x+10,this.screenCenter.y,this,this.interactive,this.isRules)}setIsVisible(){this.setVisible(!1),this.spinnerArrows.setIsVisible(!1)}}let le=1;const de=new Map([[1,[{x:{from:1800,to:1800},y:{from:1100,to:1100},duration:100,yoyo:!1,repeat:0,delay:0},{angle:{from:0,to:0},duration:110,yoyo:!1,repeat:0,delay:0}]],[2,[{x:{from:1800,to:890},y:{from:1100,to:540},duration:1e3,yoyo:!1,ease:"Sine.easeInOut",repeat:0,delay:250},{angle:{from:0,to:-60},duration:1500,yoyo:!1,ease:"Quart.easeInOut",repeat:0,delay:1250}]],[3,[{x:{from:890,to:100},y:{from:540,to:580},duration:1e3,yoyo:!1,repeat:0,delay:250}]],[4,[{x:{from:100,to:650},y:{from:580,to:300},duration:1e3,yoyo:!1,repeat:0,delay:250}]],[5,[{x:{from:650,to:1550},y:{from:300,to:650},duration:1e3,yoyo:!1,repeat:0,delay:250}]],[6,[{x:{from:1550,to:1550},y:{from:650,to:650},duration:250,yoyo:!1,repeat:0},{x:{from:1550,to:1800},y:{from:650,to:1100},duration:1e3,yoyo:!1,repeat:0,delay:250}]],[7,[{alpha:0,duration:0,yoyo:!1,repeat:0,delay:0},{x:300,y:150,duration:1250,yoyo:!1,repeat:0,delay:250}]]]);let ue=[],ge=[],pe=null;const me=async()=>{const e=de.get(le),t=ue[le-1]||[],s=ge[le-1]||[],a=()=>{};t.forEach(((t,i)=>{const o=e[i]||{},r=s[i]||a;if(!t||!o)return console.log("null return"),r();console.log({context:pe}),pe.tweens.add({targets:t,...o,onStart:()=>{},onComplete:()=>r()})}))},fe=(e,t,s)=>{pe=e,ue=t,ge=s,me()},be=()=>{le=1},ve=()=>{le++,me()};let xe=1;const ye=new Map([[1,"Get ready to choose your character and create your very own lunch by picking a food item from each of the sections of the Eat Well tray."],[2,"Click or tap the arrows to move around the food tray, like this."],[3,"Click or tap an item to add it to your lunchbox. "],[4,"If you decide you want a different food from that group then click or tap any item to replace it."],[5,"If you decide that you don’t want a food item anymore, you can click on it again to remove it from your lunchbox."],[6,"Once you're happy with your food items and your lunch box is full click or tap the Finish button."],[7,"Want to save your lunchbox to show your friends or family, or to print out later? Click or tap the Save Image button. "]]),we=()=>(console.log({get:ye.get(xe)}),ye.get(xe)),Ie=()=>(xe=1,we()),Se=()=>(xe++,console.log({val:we()}),we());var Ce=class extends te{constructor(e){super("Rules",{...e.Game,...e.Rules,width:e.width,height:e.height}),this.isAnimating=!1}create(){this.initScene(),this.createSpinnerContainer(),this.createLunchBox(),this.createCharacter(),this.createPDFButton(),this.createPointer(),this.initAnimations(),this.createNavBar(),this.createFinishButton(),M.dispatch(O("Rules"))}createCharacter(){const e=M.getState().characterStore.characterId?M.getState().characterStore:M.getState().rulesStore,{characterId:t}=e;this.selectedCharacter=this.add.image(50,200,`selected-${t}`).setOrigin(0,0).setVisible(!1)}createPDFButton(){this.pdfButton=this.add.image(50,50,"save-btn").setOrigin(0).setVisible(!1)}createFinishButton(){this.finishButton=this.add.image(1560,994,"finish-btn").setOrigin(0).setVisible(!1).setInteractive({useHandCursor:!0}),this.finishButton.on("pointerdown",(()=>this.endTutorial()))}initAnimations(){fe(this,this.initAnimObjects(),this.initCallbacks())}initAnimObjects(){return this.animObjects=[[this.pointer,this.spinnerContainer],[this.pointer,this.spinnerContainer],[this.pointer],[this.pointer],[this.pointer],[null,this.pointer],[null,this.pointer]],this.animObjects}initCallbacks(){return this.callbackObjects=[[()=>{this.isAnimating=!1}],[()=>{},()=>{this.isAnimating=!1}],[()=>{M.dispatch(j({groupId:"group2",item:{id:"D_cheese"}})),this.isAnimating=!1}],[()=>{M.dispatch(j({groupId:"group2",item:{id:"D_custard"}})),this.isAnimating=!1}],[()=>{M.dispatch(N("group2")),this.isAnimating=!1}],[()=>{M.dispatch(j({groupId:"group1",item:{id:"D_custard"}})),M.dispatch(j({groupId:"group2",item:{id:"D_custard"}})),M.dispatch(j({groupId:"group3",item:{id:"D_custard"}})),M.dispatch(j({groupId:"group4",item:{id:"D_custard"}})),M.dispatch(j({groupId:"group5",item:{id:"D_custard"}})),M.dispatch(j({groupId:"group6",item:{id:"P_ham"}}))},()=>{this.isAnimating=!1}],[()=>{this.bottle.setVisible(!1),this.spinnerContainer.setIsVisible(!1),this.selectedCharacter.setVisible(!0),this.pdfButton.setVisible(!0)},()=>{this.isAnimating=!1}]],this.callbackObjects}createPointer(){this.pointer=this.add.image(1800,1100,"cursor").setOrigin(.5,.5).setDepth(2)}createSpinnerContainer(){this.spinnerContainer=new he(this,this.screenCenter.x,this.screenCenter.y,this.config,!1,!0)}createLunchBox(){this.selectedLunchboxContainer=new re(this,this.screenCenter.x+20,this.screenCenter.y,!1,!0)}initScene(){super.initScene("kitchen-background"),this.bottle=this.add.image(this.screenCenter.x+20,this.screenCenter.y,"bottle").setOrigin(.5,.5)}createNavBar(){let e=1;this.navbar=new ie(this,this.config.width,this.config.height,(()=>{this.isAnimating?console.log("duck out"):(e++,M.dispatch(F({text:Se(),title:""})),this.isAnimating=!0,ve(),console.log({sceneCounter:e}),e>6&&this.finishButton.setVisible(!0),e>7&&this.endTutorial())}),"MainMenu",!0,"next-btn",!0,(()=>{this.endTutorial()}))}over(){}out(){}endTutorial(){Ie(),be(),M.dispatch(R()),this.isAnimating=!1,this.scene.stop("Rules"),this.scene.launch("MainMenu")}},_e=s(38);class ke extends i.a.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.context=e,this.scene=e.scene,e.add.existing(this),this.createCharacters(),this.checkCharacterSelected()}createCharacters(){const e=50,t=-200,s=this.createCharacter("character1",e,t),a=s.width,i=this.createCharacter("character2",e+2*a,t),o=this.createCharacter("character3",e+4*a,-220),r=this.createCharacter("character4",e+6*a,t);this.character1Highlight=this.createCharacterHighlight("character1",e,t).setVisible(!1),this.character2Highlight=this.createCharacterHighlight("character2",e+2*a,t).setVisible(!1),this.character3Highlight=this.createCharacterHighlight("character3",e+4*(a+1.5),-220).setVisible(!1),this.character4Highlight=this.createCharacterHighlight("character4",e+6*a,t).setVisible(!1),this.add(this.character1Highlight),this.add(this.character2Highlight),this.add(this.character3Highlight),this.add(this.character4Highlight),this.add(s),this.add(i),this.add(o),this.add(r)}createCharacterHighlight(e,t,s){return this.context.add.image(t,s,`${e}Selected`).setOrigin(.5,.5)}createCharacter(e,t,s){const a=this.context.add.image(t,s,e).setOrigin(.5,.5).setInteractive({useHandCursor:!0});return a.on("pointerover",(()=>this.characterOver(e))),a.on("pointerout",(()=>this.characterOut(e))),a.on("pointerdown",(()=>this.characterSelected(e))),a}checkCharacterSelected(){const e=M.getState().characterStore,{characterId:t}=e;t&&(this[`${t}Highlight`].setVisible(!0),M.dispatch(B(t)))}deselectCharcters(){this.character1Highlight.setVisible(!1),this.character2Highlight.setVisible(!1),this.character3Highlight.setVisible(!1),this.character4Highlight.setVisible(!1)}characterOver(e){this[`${e}Highlight`].setVisible(!0)}characterOut(e){this.deselectCharcters(),this.checkCharacterSelected()}characterSelected(e){this.deselectCharcters(),this.characterOver(e),M.dispatch(u(e)),M.dispatch(B(e))}}var Oe=class extends te{constructor(e){super("CharacterSelect",{...e.CharacterSelect,width:e.width,height:e.height})}create(){super.initScene("background"),this.createTitle(),this.createNavBar(),M.dispatch(O("CharacterSelect")),this.checkCharacterSelected(),this.createCharactersContainer(),this.initCharacterListener()}createTitle(){this.add.image(this.screenCenter.x,30,"character-select-ttitle").setOrigin(.5,-.2)}createCharactersContainer(){new ke(this,this.screenCenter.x/4,this.screenCenter.y+this.screenCenter.y/2-50)}initCharacterListener(){M.subscribe((()=>{this.checkCharacterSelected()}))}checkCharacterSelected(){const e=M.getState().characterStore,{characterId:t}=e;t&&this.navbar.setNextVisible(!0)}createNavBar(){this.navbar=new ie(this,this.config.width,this.config.height,(()=>{this.scene.start("LunchBoxSelect")}),"MainMenu",!1)}};const Be="Don’t forget to have a drink of water";var Fe=class extends te{constructor(e){super("Game",{...e.Game,width:e.width,height:e.height}),this.requiredItems=this.config.requiredItems}create(){super.initScene("kitchen-background"),this.createBottle(),this.createSpinnerContainer(),this.createLunchBox(),this.createNavBar(),this.initItemsListener(),M.dispatch(O("Game"))}createBottle(){this.bottle=this.add.image(this.screenCenter.x+20,this.screenCenter.y,"bottle").setInteractive({pixelPerfect:!0,useHandCursor:!0}).setOrigin(.5,.5),this.bottle.on("pointerdown",this.bottleClickedHandler),this.bottle.on("pointerover",this.bottleOverHandler),this.bottle.on("pointerout",this.bottleOutHandler)}bottleClickedHandler(){M.dispatch(F({text:Be,title:""}))}bottleOverHandler(){M.dispatch(H({text:Be,title:""}))}bottleOutHandler(){M.dispatch(V())}createLunchBox(){this.selectedLunchboxContainer=new re(this,this.screenCenter.x+20,this.screenCenter.y)}createSpinnerContainer(){this.spinnerContainer=new he(this,this.screenCenter.x,this.screenCenter.y-70,this.config)}createNavBar(){this.navbar=new ie(this,this.config.width,this.config.height,(()=>{const e=M.getState().characterStore,{lunchboxId:t}=e;t&&(this.scene.pause(),this.scene.launch("Completed"))}),"LunchBoxSelect",!1)}initItemsListener(){M.subscribe((()=>{this.checkItemCount()}))}checkItemCount(){const e=M.getState().itemsStore,{items:t}=e,s=t.reduce(((e,t)=>{const{item:s}=t;return s.id?++e:e}),0);this.navbar.setNextVisible(s===this.requiredItems),this.navbar.setNextVisible(!0)}},He=s(108);const Ve=[{x:125,y:85},{x:180,y:85},{x:225,y:85},{x:125,y:115},{x:180,y:115},{x:225,y:115}],Te={w:54,h:54},Pe=new He.a("landscape");function Le(){!function(){const e=new Image;e.src="assets/pdf/kitchen-bg.png",Pe.addImage(e,"png",0,0,300,200)}(),function(){const{characterId:e}=M.getState().characterStore,t=new Image;t.src=`assets/pdf/character/${e}.png`,Pe.addImage(t,"png",15,25,100,150)}(),function(){const{lunchboxId:e}=M.getState().characterStore,t=new Image;t.src=`assets/pdf/lunchbox/${e}.png`,Pe.addImage(t,"png",115,5,180,170)}(),function(){const{items:e}=M.getState().itemsStore;[...e].forEach((({item:e},t)=>{if(!e.id)return;const{x:s,y:a}=Ve[t],{w:i,h:o}=Te,r=new Image;r.src=`assets/pdf/food/${e.id}.png`,Pe.addImage(r,"png",s,a,i,o)}))}(),function(){const{lunchboxId:e}=M.getState().characterStore,t=new Image;t.src=`assets/pdf/lunchbox/${e}-front.png`,Pe.addImage(t,"png",115,135,180,40)}()}var De=class extends te{constructor(e){super("Completed",{...e.Completed,width:e.width,height:e.height})}create(){super.initScene("kitchen-background"),this.createCharacter(),this.createLunchBox(),this.createNav(),this.createPDFButton(),M.dispatch(O("Completed"))}createCharacter(){const{characterId:e}=M.getState().characterStore;this.selectedCharacter=this.add.image(50,200,`selected-${e}`).setOrigin(0,0)}createLunchBox(){this.selectedLunchboxContainer=new re(this,this.screenCenter.x+20,this.screenCenter.y,!1)}createNav(){this.createBg(),this.createTextBG(),this.createText(),this.createBackBtn(),this.createRestartBtn()}createBg(){const e=this.config.height;this.navBG=this.add.image(0,e,"navbar-bg").setOrigin(0,1)}createTextBG(){this.textBubble=this.add.image(35,this.config.height-25,"text-bubble").setOrigin(0,1)}createText(){const e=this.textBubble.y-this.textBubble.height/2,t=this.textBubble.x+this.textBubble.width/2;this.text=this.add.text(t,e,"Well done! You've made a delicious lunch!",Z).setWordWrapWidth(800),this.text.setOrigin(.5,.5)}createBackBtn(){this.config.height,this.config.width;this.add.image(1216,993,"back-btn").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{this.scene.stop(),this.scene.resume("Game")}))}createRestartBtn(){this.config.height,this.config.width;this.add.image(1561,993,"startover-btn").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{M.dispatch(y()),M.dispatch(p()),this.scene.stop(),this.scene.stop("Game"),this.scene.start("MainMenu")}))}createPDFButton(){this.add.image(50,50,"save-btn").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>(Le(),void Pe.output("save","lunch.pdf"))))}};var Ae=class extends te{constructor(e){super("PreloadScene",e)}preload(){super.preload(),function(e){let t=e.add.graphics(),s=e.add.graphics(),a=e.cameras.main.width,i=e.cameras.main.height;s.fillStyle(8706784,.8),s.fillRect(a/2-170,i/2-35,320,50);let o=e.make.text({x:a/2,y:i/2-55,text:"Loading...",style:{font:"32px monospace",fill:"#84dae0"}});o.setOrigin(.5,.5);let r=e.make.text({x:a/2,y:i/2-10,text:"0%",style:{font:"32px monospace",fill:"#ffffff"}});r.setOrigin(.5,.5),e.load.on("progress",(function(e){t.clear(),t.fillStyle(16777215,1),t.fillRect(a/2-160,i/2-25,300*e,30),r.setText(parseInt(100*e)+"%")})),e.load.on("fileprogress",(function(e){})),e.load.on("complete",(function(){t.destroy(),s.destroy(),o.destroy(),r.destroy()}))}(this),this.loadFont(),this.load.audio("theme",["assets/sound/theme.mp3"]),this.load.svg("background","assets/backgrounds/BG.svg",{scale:1}),this.load.svg("kitchen-background","assets/backgrounds/kitchen-bg.svg",{scale:1}),this.load.svg("title-screen","assets/title-screen/title-screen.svg",{scale:1}),this.load.image("rules-bg","assets/rules/Tutorial.jpg"),this.load.svg("cursor","assets/rules/cursor.svg",{scale:1}),this.load.svg("play-btn","assets/UI/buttons/play-btn.svg",{scale:1}),this.load.svg("help-btn","assets/UI/buttons/help-btn.svg",{scale:1}),this.load.svg("next-btn","assets/UI/buttons/next-btn.svg",{scale:1}),this.load.svg("back-btn","assets/UI/buttons/back-btn.svg",{scale:1}),this.load.svg("save-btn","assets/UI/buttons/save-btn.svg",{scale:1}),this.load.svg("startover-btn","assets/UI/buttons/startover-btn.svg",{scale:1}),this.load.svg("create-pdf-btn","assets/UI/buttons/print-btn.svg",{scale:1}),this.load.svg("finish-btn","assets/UI/buttons/finish-btn.svg",{scale:1}),this.load.svg("arrow","assets/UI/buttons/backarrow-btn.svg",{scale:1}),this.load.svg("spinner-arrow","assets/UI/buttons/spinner-arrow.svg",{scale:1}),this.load.svg("spinner-arrow-bg","assets/UI/buttons/spinner-arrow-bg.svg",{scale:1}),this.load.svg("character-select-ttitle","assets/UI/speech/character-select-title.svg",{scale:1}),this.load.svg("sound-on","assets/UI/speaker/sound-on.svg",{scale:.8}),this.load.svg("sound-off","assets/UI/speaker/sound-off.svg",{scale:.8}),this.load.svg("narrator-bubble","assets/UI/speech/speech-bubble.svg",{scale:1}),this.load.svg("text-bubble","assets/UI/speech/textbubble.svg",{scale:1}),this.load.svg("navbar-bg","assets/UI/footer/bottom bar.svg",{scale:1}),this.load.image("navbar","assets/UI/nav bar.png"),this.load.image("speech","assets/UI/speech bubble.png"),this.load.svg("character1","assets/characters/hero-1-select.svg",{scale:1}),this.load.svg("character2","assets/characters/hero-2-select.svg",{scale:1}),this.load.svg("character3","assets/characters/hero-3-select.svg",{scale:1}),this.load.svg("character4","assets/characters/hero-4-select.svg",{scale:1}),this.load.svg("character1Selected","assets/characters/hero-1-selected.svg",{scale:1}),this.load.svg("character2Selected","assets/characters/hero-2-selected.svg",{scale:1}),this.load.svg("character3Selected","assets/characters/hero-3-selected.svg",{scale:1}),this.load.svg("character4Selected","assets/characters/hero-4-selected.svg",{scale:1}),this.load.svg("selected-character1","assets/characters/hero-1-success.svg",{scale:1.3}),this.load.svg("selected-character2","assets/characters/hero-2-success.svg",{scale:1.3}),this.load.svg("selected-character3","assets/characters/hero-3-success.svg",{scale:1.3}),this.load.svg("selected-character4","assets/characters/hero-4-success.svg",{scale:1.3}),this.load.svg("character1-head","assets/characters/hero-head-1.svg",{scale:1}),this.load.svg("character2-head","assets/characters/hero-head-2.svg",{scale:1}),this.load.svg("character3-head","assets/characters/hero-head-3.svg",{scale:1}),this.load.svg("character4-head","assets/characters/hero-head-4.svg",{scale:1}),this.load.image("narrator","assets/characters/instructor.png"),this.load.svg("lunchbox1","assets/lunchboxes/box1-select.svg",{scale:1}),this.load.svg("lunchbox2","assets/lunchboxes/box2-select.svg",{scale:1}),this.load.svg("lunchbox3","assets/lunchboxes/box3-select.svg",{scale:1}),this.load.svg("lunchbox4","assets/lunchboxes/box4-select.svg",{scale:1}),this.load.svg("lunchbox-selected","assets/lunchboxes/box-select-outline.svg",{scale:1}),this.load.svg("selected-lunchbox1","assets/lunchboxes/box1-success.svg",{scale:1}),this.load.svg("selected-lunchbox2","assets/lunchboxes/box2-success.svg",{scale:1}),this.load.svg("selected-lunchbox3","assets/lunchboxes/box3-success.svg",{scale:1}),this.load.svg("selected-lunchbox4","assets/lunchboxes/box4-success.svg",{scale:1}),this.load.svg("selected-lunchbox1-front","assets/lunchboxes/box1-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox2-front","assets/lunchboxes/box2-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox3-front","assets/lunchboxes/box3-success-front.svg",{scale:1}),this.load.svg("selected-lunchbox4-front","assets/lunchboxes/box4-success-front.svg",{scale:1}),this.load.svg("spinner","assets/game/tray.svg",{scale:1}),this.load.svg("bottle","assets/game/bottle.svg",{scale:1}),this.load.svg("bagel","assets/foodItems/C_bagel.svg",{scale:1}),this.load.svg("chapatti","assets/foodItems/C_chapatti.svg",{scale:1}),this.load.svg("bread","assets/foodItems/C_bread.svg",{scale:1}),this.load.svg("flatbread","assets/foodItems/C_flatbread.svg",{scale:1}),this.load.svg("noodles","assets/foodItems/C_noodles.svg",{scale:1}),this.load.svg("pasta","assets/foodItems/C_pasta.svg",{scale:1}),this.load.svg("potatoes","assets/foodItems/C_potatoes.svg",{scale:1}),this.load.svg("rice","assets/foodItems/C_rice.svg",{scale:1}),this.load.svg("roti","assets/foodItems/C_roti.svg",{scale:1}),this.load.svg("wrap","assets/foodItems/C_wrap.svg",{scale:1}),this.load.svg("D_cheese","assets/foodItems/D_cheese.svg",{scale:1}),this.load.svg("D_creamcheese","assets/foodItems/D_creamcheese.svg",{scale:1}),this.load.svg("D_custard","assets/foodItems/D_custard.svg",{scale:1}),this.load.svg("D_fromagefrais","assets/foodItems/D_fromagefrais.svg",{scale:1}),this.load.svg("D_lassi","assets/foodItems/D_lassi.svg",{scale:1}),this.load.svg("D_maltdrink","assets/foodItems/D_maltdrink.svg",{scale:1}),this.load.svg("D_milk","assets/foodItems/D_milk.svg",{scale:1}),this.load.svg("D_oatmilk","assets/foodItems/D_oatmilk.svg",{scale:1}),this.load.svg("D_paneer","assets/foodItems/D_paneer.svg",{scale:1}),this.load.svg("D_yoghurt","assets/foodItems/D_yoghurt.svg",{scale:1}),this.load.svg("FS_biscuits","assets/foodItems/FS_biscuits.svg",{scale:1}),this.load.svg("FS_cake","assets/foodItems/FS_cake.svg",{scale:1}),this.load.svg("FS_chocolate","assets/foodItems/FS_chocolate.svg",{scale:1}),this.load.svg("FS_crisps","assets/foodItems/FS_crisps.svg",{scale:1}),this.load.svg("FS_croissant","assets/foodItems/FS_croissant.svg",{scale:1}),this.load.svg("FS_gummy","assets/foodItems/FS_gummy.svg",{scale:1}),this.load.svg("FS_pepperoni","assets/foodItems/FS_pepperoni.svg",{scale:1}),this.load.svg("FS_plantain","assets/foodItems/FS_plantain.svg",{scale:1}),this.load.svg("FS_samosa","assets/foodItems/FS_samosa.svg",{scale:1}),this.load.svg("FS_scotchegg","assets/foodItems/FS_scotchegg.svg",{scale:1}),this.load.svg("FV_apple","assets/foodItems/FV_apple.svg",{scale:1}),this.load.svg("FV_banana","assets/foodItems/FV_banana.svg",{scale:1}),this.load.svg("FV_guava","assets/foodItems/FV_guava.svg",{scale:1}),this.load.svg("FV_kiwi","assets/foodItems/FV_kiwi.svg",{scale:1}),this.load.svg("FV_orange","assets/foodItems/FV_orange.svg",{scale:1}),this.load.svg("FV_grapes","assets/foodItems/FV_grapes.svg",{scale:1}),this.load.svg("FV_raisins","assets/foodItems/FV_raisins.svg",{scale:1}),this.load.svg("FV_berries","assets/foodItems/FV_berries.svg",{scale:1}),this.load.svg("FV_melon","assets/foodItems/FV_melon.svg",{scale:1}),this.load.svg("FV_mango","assets/foodItems/FV_mango.svg",{scale:1}),this.load.svg("FV_carrot","assets/foodItems/FV_carrot.svg",{scale:1}),this.load.svg("FV_celery","assets/foodItems/FV_celery.svg",{scale:1}),this.load.svg("FV_cucumber","assets/foodItems/FV_cucumber.svg",{scale:1}),this.load.svg("FV_pepper","assets/foodItems/FV_pepper.svg",{scale:1}),this.load.svg("FV_tomato","assets/foodItems/FV_tomato.svg",{scale:1}),this.load.svg("FV_lettuce","assets/foodItems/FV_lettuce.svg",{scale:1}),this.load.svg("FV_peas","assets/foodItems/FV_peas.svg",{scale:1}),this.load.svg("FV_sweetcorn","assets/foodItems/FV_sweetcorn.svg",{scale:1}),this.load.svg("FV_onion","assets/foodItems/FV_onion.svg",{scale:1}),this.load.svg("HE_fruitbread","assets/foodItems/HE_fruitbread.svg",{scale:1}),this.load.svg("HE_jelly","assets/foodItems/HE_jelly.svg",{scale:1}),this.load.svg("HE_maltloaf","assets/foodItems/HE_maltloaf.svg",{scale:1}),this.load.svg("HE_oatcake","assets/foodItems/HE_oatcake.svg",{scale:1}),this.load.svg("HE_pancake","assets/foodItems/HE_pancake.svg",{scale:1}),this.load.svg("HE_popcorn","assets/foodItems/HE_popcorn.svg",{scale:1}),this.load.svg("HE_ricecake","assets/foodItems/HE_ricecake.svg",{scale:1}),this.load.svg("P_beans","assets/foodItems/P_beans.svg",{scale:1}),this.load.svg("P_chicken","assets/foodItems/P_chicken.svg",{scale:1}),this.load.svg("P_chickpea","assets/foodItems/P_chickpea.svg",{scale:1}),this.load.svg("P_egg","assets/foodItems/P_egg.svg",{scale:1}),this.load.svg("P_ham","assets/foodItems/P_ham.svg",{scale:1}),this.load.svg("P_hummus","assets/foodItems/P_hummus.svg",{scale:1}),this.load.svg("P_lentil","assets/foodItems/P_lentil.svg",{scale:1}),this.load.svg("P_quorn","assets/foodItems/P_quorn.svg",{scale:1}),this.load.svg("P_tuna","assets/foodItems/P_tuna.svg",{scale:1})}loadFont(){const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet;t.insertRule('@font-face { font-family: "Ompalumpa"; src: url("assets/font/Ompalumpa/Ompalumpa.otf") format("opentype"); }\n',0),t.insertRule('@font-face { font-family: "Roboto"; src: url("assets/font/Roboto/Roboto-Medium.ttf") format("truetype"); }\n',0),this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js")}create(){super.create(),this.scene.start("MainMenu")}};class Re extends i.a.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.context=e,this.scene=e.scene,e.add.existing(this),this.createLunchboxHighlights(),this.createLunchBoxes(),this.checkLunchboxSelected()}createLunchBoxes(){const e=this.createLunchBox("lunchbox1",[-375,-325]),t=this.createLunchBox("lunchbox2",[-375,75]),s=this.createLunchBox("lunchbox3",[375,-325]),a=this.createLunchBox("lunchbox4",[375,75]);this.add(e),this.add(t),this.add(s),this.add(a)}createLunchboxHighlights(){this.lunchbox1Highlight=this.createLunchBoxHighlight("lunchbox1",[-375,-325]),this.lunchbox2Highlight=this.createLunchBoxHighlight("lunchbox2",[-375,75]),this.lunchbox3Highlight=this.createLunchBoxHighlight("lunchbox3",[375,-325]),this.lunchbox4Highlight=this.createLunchBoxHighlight("lunchbox4",[375,75]),this.add(this.lunchbox1Highlight),this.add(this.lunchbox2Highlight),this.add(this.lunchbox3Highlight),this.add(this.lunchbox4Highlight)}createLunchBox(e,t){const s=this.context.add.image(0,0,e).setInteractive({useHandCursor:!0});return s.setPosition(...t),s.setOrigin(.5,.5),s.on("pointerover",(()=>this.lunchboxOver(e))),s.on("pointerout",(()=>this.lunchboxOut(e))),s.on("pointerdown",(()=>this.lunchboxSelected(e))),s}createLunchBoxHighlight(e,t){const s=this.context.add.image(0,0,"lunchbox-selected").setVisible(!1);return s.setPosition(...t),s.setOrigin(.5,.5),s}checkLunchboxSelected(){const e=M.getState().characterStore,{lunchboxId:t}=e;t&&this[`${t}Highlight`].setVisible(!0)}deselectLunchBoxes(){this.lunchbox1Highlight.setVisible(!1),this.lunchbox2Highlight.setVisible(!1),this.lunchbox3Highlight.setVisible(!1),this.lunchbox4Highlight.setVisible(!1)}lunchboxSelected(e){this.deselectLunchBoxes(),this.lunchboxOver(e),M.dispatch(g(e))}lunchboxOver(e){this[`${e}Highlight`].setVisible(!0)}lunchboxOut(e){this.deselectLunchBoxes(),this.checkLunchboxSelected()}}var je=class extends te{constructor(e){super("LunchBoxSelect",{...e.LunchboxSelect,width:e.width,height:e.height})}create(){super.initScene(),this.createLunchBoxesContainer(),this.createNavBar(),M.dispatch(O("LunchBoxSelect")),this.initLunchboxListener(),this.checkLunchboxSelected()}createLunchBoxesContainer(){const e=this.screenCenter.x,t=this.screenCenter.y;new Re(this,e,t)}initLunchboxListener(){M.subscribe((()=>{this.checkLunchboxSelected()}))}checkLunchboxSelected(){const e=M.getState().characterStore,{lunchboxId:t}=e;t&&this.navbar.setNextVisible(!0)}createNavBar(){this.navbar=new ie(this,this.config.width,this.config.height,(()=>{this.scene.start("Game")}),"CharacterSelect",!1)}};const Ne=[Ae,se,Oe,je,Fe,De,Ce],Ge=e=>new e(_e),{width:Ee,height:Me,backgroundColor:Ue}=_e,We={width:_e.width,height:_e.height,type:i.a.AUTO,scale:{mode:i.a.Scale.FIT,autoCenter:i.a.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!0}},backgroundColor:Ue,scene:Ne.map(Ge),fps:{target:12}};new i.a.Game(We)},38:function(e){e.exports=JSON.parse('{"width":1921,"height":1145,"backgroundColor":"#daf1f2","Rules":{},"Game":{"requiredItems":6,"group1":[{"title":"Apple","id":"FV_apple","name":"food","score":1,"scale":0.45,"coords":[195,0],"text":"There are 7,000 varieties of apple, that’s a lot of different apples! How many have you tried?"},{"title":"Orange/satsuma","id":"FV_orange","name":"food","score":1,"scale":0.45,"coords":[360,-110],"text":"Hundreds of years ago, sailors used to carry oranges with them when crossing the sea to make sure they got enough vitamin C."},{"title":"Kiwi","id":"FV_kiwi","name":"food","score":1,"scale":0.45,"coords":[360,80],"text":"Kiwi’s might look like hairy eggs, but once they’ve been peeled they are ready to eat and full of vitamin C."},{"title":"Raisins/sultanas","id":"FV_raisins","name":"food","score":1,"scale":0.4,"coords":[535,-185],"text":"Raisins are dried grapes!"},{"title":"Banana","id":"FV_banana","name":"food","score":1,"scale":0.45,"text":"Over 23,000 bananas are eaten at Wimbledon each year. Tennis players eat these as healthy snacks","coords":[565,20]},{"title":"Berries","id":"FV_berries","name":"food","score":1,"scale":0.45,"text":"Strawberries, raspberries and blueberries are all types of berry, there are loads more too – can you think of some?","coords":[535,170]},{"title":"Mango","id":"FV_mango","name":"food","score":1,"scale":0.45,"coords":[730,-300],"text":"Mangos contains certain vitamins which are good for your hair."},{"title":"Melon","id":"FV_melon","name":"food","score":1,"scale":0.45,"coords":[765,-100],"text":"There are lots of different types of melon - which is your favourite?."},{"title":"Grape","id":"FV_grapes","name":"food","score":1,"scale":0.45,"text":"Grapes contain vitamins, protecting the inside of your body from damage.","coords":[760,70]},{"title":"Guava","id":"FV_guava","name":"food","score":1,"scale":0.45,"coords":[730,305],"text":"These look like a pear, but taste like a strawberry! Have you tried one?"}],"group2":[{"title":"Tomato","id":"FV_tomato","name":"food","score":1,"scale":0.45,"coords":[185,0],"text":"The heaviest tomato in the world weighed over 5kg (about as heavy as a cat)."},{"title":"Carrot","id":"FV_carrot","name":"food","score":1,"scale":0.45,"coords":[370,-70],"text":"Carrots won’t help you to see in the dark, but they do contain nutrients that are good for your eyes."},{"title":"Cucumbers","id":"FV_cucumber","name":"food","score":1,"scale":0.45,"coords":[360,100],"text":"Great for healthy snacks!"},{"title":"Sweetcorn","id":"FV_sweetcorn","name":"food","score":1,"scale":0.45,"coords":[545,-90],"text":"Have you tried baby sweetcorn?"},{"title":"Celery","id":"FV_celery","name":"food","score":1,"scale":0.45,"text":"Celery is crunchy and can be eaten raw as a healthy snack.","coords":[530,160]},{"title":"Peas","id":"FV_peas","name":"food","score":1,"scale":0.45,"text":"Peas strengthen your immune system, which fights off nasty colds and bugs.","coords":[680,-290]},{"title":"Peppers","id":"FV_pepper","name":"food","score":1,"scale":0.45,"text":"You might have seen green, yellow and red peppers before, but purple peppers can also be eaten.","coords":[770,-135]},{"title":"Lettuce","id":"FV_lettuce","name":"food","score":1,"scale":0.45,"text":"Lettuce is actually 95% water, but it also contains lots of good stuff for your body.","coords":[740,70]},{"title":"Onion","id":"FV_onion","name":"food","score":1,"scale":0.45,"text":"Have you tried red, white, or spring onions?","coords":[710,255]}],"group3":[{"title":"Milk alternative","id":"D_oatmilk","name":"food","score":1,"scale":0.45,"coords":[205,0],"text":"There are lots of different milks that make great alternatives to cows’ milk, such as oat, soya and almond to name a few."},{"title":"Custard","id":"D_custard","name":"food","score":1,"scale":0.45,"text":"Custard can be used as a sauce or filling for loads of different desserts, choose lower fat and sugar options.","coords":[350,-90]},{"title":"Cream cheese","id":"D_creamcheese","name":"food","score":1,"scale":0.45,"coords":[380,100],"text":"Cream cheese is soft and can be spread onto sandwiches and wraps, it can even be used as a dip"},{"title":"Fromage frais","id":"D_fromagefrais","name":"food","score":1,"scale":0.45,"text":"Fromage frais looks a lot like yogurt, but it’s actually a type of cheese","coords":[525,-200]},{"title":"Cheese","id":"D_cheese","name":"food","score":1,"scale":0.45,"text":"Choose reduced fat varieties","coords":[575,-20]},{"title":"Malt Drink","id":"D_maltdrink","name":"food","score":1,"scale":0.45,"text":"Choose lower sugar options.","coords":[550,200]},{"title":"Cow’s milk","id":"D_milk","name":"food","score":1,"scale":0.45,"text":"Contains protein, vitamins and minerals, especially Calcium.","coords":[730,-295]},{"title":"Yoghurt","id":"D_yoghurt","name":"food","score":1,"scale":0.45,"text":"Plain yoghurt or fromage frais is full of protein which our body needs, you can try pouring it over a bowl of your favourite fruit for extra flavour.","coords":[760,-80]},{"title":"Paneer","id":"D_paneer","name":"food","score":1,"scale":0.45,"coords":[770,90],"text":"Paneer cheese originated in India, and it’s now popular in many countries across the globe"},{"title":"Savoury lassi","id":"D_lassi","name":"food","score":1,"scale":0.45,"text":"Lassi is a popular yogurt drink from India. This one is savoury, but they can also be flavoured with sweet foods like mango","coords":[730,295]}],"group4":[{"title":"Wraps","id":"wrap","name":"food","score":1,"rotation":-60,"scale":0.35,"text":"Wraps can be filled with all sorts of tasty fillings. Try adding your choice of veg and protein to make it your own.","coords":[185,0]},{"title":"Bagel","id":"bagel","name":"food","score":1,"text":"Bagels have been to space! An astronaut took 18 bagels with him to the international space station in 2008.","coords":[330,-70]},{"title":"Noodles","id":"noodles","name":"food","score":1,"text":"Noodles have been popular in Asian cooking for thousands of years.","coords":[360,80]},{"title":"Roti","id":"roti","name":"food","score":1,"text":"Rotis are eaten in many countries worldwide.","coords":[495,-200]},{"title":"Flatbread","id":"flatbread","name":"food","score":1,"text":"There are loads of types of flatbreads, including the matzah, bammy and naan.","coords":[535,-50]},{"title":"Chapatti","id":"chapatti","name":"food","score":1,"text":"Chapatis have been eaten for 5,000 years, since before writing was even invented!","coords":[520,160]},{"title":"Boiled potatoes","id":"potatoes","name":"food","score":1,"text":"Potatoes grow underground and are a great source of energy.","coords":[705,-300]},{"title":"Pasta","id":"pasta","name":"food","score":1,"text":"Pasta comes in all shapes and sizes, have a look next time you’re at the shops.","coords":[750,-160]},{"title":"Bread ","id":"bread","name":"food","score":1,"text":"Wholemeal bread is a healthier choice than white bread.","coords":[760,40]},{"title":"Rice","id":"rice","name":"food","score":1,"text":"Rice grows in fields across the world.","coords":[720,255]}],"group5":[{"title":"Sugar-free jelly","id":"HE_jelly","name":"food","score":1,"scale":0.35,"text":"Jelly can come in all sorts of colours and flavours, what’s your favourite?","coords":[250,-65]},{"title":"Plain rice cake","id":"HE_ricecake","name":"food","score":1,"scale":0.4,"text":"This is a healthy and easy snack that you can eat on the go!","coords":[400,-130]},{"title":"Scotch pancake","id":"HE_pancake","name":"food","score":1,"scale":0.4,"text":"These pancakes originated in Scotland but are eaten in many different countries.","coords":[550,-230]},{"title":"Malt loaf","id":"HE_maltloaf","name":"food","score":1,"scale":0.4,"rotation":45,"text":"This sweet tasting bread comes in lots of different flavours. Which one do you like best?","coords":[580,-85]},{"title":"Plain popcorn","id":"HE_popcorn","name":"food","score":1,"scale":0.4,"text":"Popcorn makes a popping sound when it’s being made, hence the name!","coords":[735,-290]},{"title":"Tea cake/fruit bread","id":"HE_fruitbread","name":"food","score":1,"scale":0.4,"text":"Tea cakes are sweet tasting buns, lots of people like to toast them before eating them.","coords":[770,-85]},{"title":"Biscuits","id":"FS_biscuits","name":"food","score":1,"text":"A sometimes food - don’t have this every day! There are hundreds of types of biscuits on the shelves in shops.","coords":[205,35]},{"title":"Crisps","id":"FS_crisps","name":"food","score":1,"text":"A sometimes food - don’t have this every day! Crisps are deep fried potato slices which are high in fat and salt.","coords":[360,95]},{"title":"Cake","id":"FS_cake","name":"food","score":1,"text":"Cake can be enjoyed sometimes. For a healthy choice, go for a scotch pancake or teacake.","coords":[545,75]},{"title":"Croissant","id":"FS_croissant","name":"food","score":1,"text":"A sometimes food - don’t have this every day! Lots of people think croissants are French, but they were invented in Austria.","coords":[535,235]},{"title":"Meat Stick","id":"FS_pepperoni","name":"food","score":1,"text":"A sometimes food - don’t have this every day! These include sausages and peperami. They are highly processed foods, so don’t eat too many!","coords":[730,100]},{"title":"Chocolate","id":"FS_chocolate","name":"food","score":1,"text":"A sometimes food - don’t have this every day! Chocolate is made from cacao beans, which taste bitter. You need to add lots of fat and sugar to make chocolate.","coords":[730,265]}],"group6":[{"title":"Soya/Quorn chunks","id":"P_quorn","name":"food","score":1,"scale":0.5,"text":"These are great ways to get protein without eating meat. What’s your favourite recipe?","coords":[190,0]},{"title":"Lentil","id":"P_lentil","name":"food","score":1,"scale":0.5,"text":"Lentils are plants. As well as being packed with protein, they contain plenty of fibre.","coords":[380,-140]},{"title":"Cooked meat","id":"P_ham","name":"food","score":1,"scale":0.5,"text":"Choose lower salt options.","coords":[380,90]},{"title":"Chickpeas","id":"P_chickpea","name":"food","score":1,"scale":0.5,"text":"Another name for a chickpea is a garbanzo bean.","coords":[700,-310]},{"title":"Hummus","id":"P_hummus","name":"food","score":1,"scale":0.5,"origin":[0.5,0.5],"text":"Hummus is made from mashed chickpeas, try using it as a dip or spreading onto wraps.","coords":[675,-150]},{"title":"Tuna","id":"P_tuna","name":"food","score":1,"scale":0.5,"text":"Tuna are one of the most popular types of fish to eat. In the wild they swim very fast and can weigh as much as a horse!","coords":[600,10]},{"title":"Beans","id":"P_beans","name":"food","score":1,"scale":0.5,"text":"Tons of baked beans are eaten every hour in the UK, but there are lots of other varieties such as kidney beans and butter beans.","coords":[550,160]},{"title":"Chicken","id":"P_chicken","name":"food","score":1,"scale":0.5,"text":"Chickens are living descendants of dinosaurs, and are a popular source of protein.","coords":[790,70]},{"title":"Egg","id":"P_egg","name":"food","score":1,"scale":0.5,"text":"Eggs have been eaten for millions of years! ","coords":[730,300]}]},"CharacterSelect":{},"LunchboxSelect":{},"Completed":{}}')}});